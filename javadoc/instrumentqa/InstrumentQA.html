<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Tue Dec 18 04:04:20 MST 2018 -->
<title>InstrumentQA</title>
<meta name="date" content="2018-12-18">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="InstrumentQA";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../instrumentqa/StationSOH.html" title="class in instrumentqa"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?instrumentqa/InstrumentQA.html" target="_top">Frames</a></li>
<li><a href="InstrumentQA.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">instrumentqa</div>
<h2 title="Class InstrumentQA" class="title">Class InstrumentQA</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>instrumentqa.InstrumentQA</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">InstrumentQA</span>
extends java.lang.Object</pre>
<div class="block">Main class for Instrument QA which reads iqxml reports from ASL and updates
 an SQL table which contains information about ongoing and resolved
 seismometer issues. The code check the SQL table edge.iqxml for rows where
 the processed time is before 1971 which indicated that the report is
 unprocessed. It then extracts multiple StationSOH records from the report
 that each describe a single issue of a single seismometer specified by NSCL
 tag. Each StationSOH record is used to construct and object that holds 
 information about the issue. Each StationSOH record is compared to the 
 content of the SQL table 'edge.stationsoh'. If there is no record of any
 issue at that station, a new entry is inserted. If there is a record of the
 station, but the issue is different, a new entry is inserted. If there is a
 record of the station, with the same issue, and an ending time within the 
 last two days, the ending time is updated and the issue is considered ongoing.
 An email report is generated and sent which contains a list of new issues,
 updated issues, and resolved issues. The email report also contains a list of
 any exceptions generated by the code.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../instrumentqa/InstrumentQA.html#InstrumentQA--">InstrumentQA</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../instrumentqa/InstrumentQA.html#insertStationSOH-java.sql.Statement-instrumentqa.StationSOH-">insertStationSOH</a></span>(java.sql.Statement&nbsp;stmt,
                <a href="../instrumentqa/StationSOH.html" title="class in instrumentqa">StationSOH</a>&nbsp;ssoh)</code>
<div class="block">Inserts a row into the SQL table edge.stationsoh.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../instrumentqa/InstrumentQA.html#isNewReport-java.sql.Statement-instrumentqa.StationSOH-">isNewReport</a></span>(java.sql.Statement&nbsp;stmt,
           <a href="../instrumentqa/StationSOH.html" title="class in instrumentqa">StationSOH</a>&nbsp;ssoh)</code>
<div class="block">Returns true if the provided StationSOH report corresponds to 
 a new station and/or issue that does not already exist in the SQL
 table edge.stationsoh.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../instrumentqa/InstrumentQA.html#isOldIssue-java.sql.Statement-instrumentqa.StationSOH-">isOldIssue</a></span>(java.sql.Statement&nbsp;stmt,
          <a href="../instrumentqa/StationSOH.html" title="class in instrumentqa">StationSOH</a>&nbsp;ssoh)</code>
<div class="block">Returns true if the given StationSOH object corresponds to a station and
 issue entry in SQL table edge.stationsoh within 48 hours of the current report.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../instrumentqa/InstrumentQA.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">This main method read an iqxml report and updates the stationsoh table.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../instrumentqa/InstrumentQA.html#openDB--">openDB</a></span>()</code>
<div class="block">opens a DBConnectionThread called "InstrumentQA".</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../instrumentqa/InstrumentQA.html#updateStationSOH-java.sql.Statement-instrumentqa.StationSOH-int-">updateStationSOH</a></span>(java.sql.Statement&nbsp;stmt,
                <a href="../instrumentqa/StationSOH.html" title="class in instrumentqa">StationSOH</a>&nbsp;ssoh,
                int&nbsp;id)</code>
<div class="block">Updates the 'ending' and 'updated' fields in the SQL table edge.stationsoh.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="InstrumentQA--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>InstrumentQA</h4>
<pre>public&nbsp;InstrumentQA()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="openDB--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openDB</h4>
<pre>public static&nbsp;void&nbsp;openDB()</pre>
<div class="block">opens a DBConnectionThread called "InstrumentQA".</div>
</li>
</ul>
<a name="isNewReport-java.sql.Statement-instrumentqa.StationSOH-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isNewReport</h4>
<pre>public static&nbsp;boolean&nbsp;isNewReport(java.sql.Statement&nbsp;stmt,
                                  <a href="../instrumentqa/StationSOH.html" title="class in instrumentqa">StationSOH</a>&nbsp;ssoh)</pre>
<div class="block">Returns true if the provided StationSOH report corresponds to 
 a new station and/or issue that does not already exist in the SQL
 table edge.stationsoh.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stmt</code> - DBConnectionThread Statement required for SQL query.</dd>
<dd><code>ssoh</code> - StationSOH report object.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Boolean returning true if this is a new issue.</dd>
</dl>
</li>
</ul>
<a name="isOldIssue-java.sql.Statement-instrumentqa.StationSOH-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOldIssue</h4>
<pre>public static&nbsp;int&nbsp;isOldIssue(java.sql.Statement&nbsp;stmt,
                             <a href="../instrumentqa/StationSOH.html" title="class in instrumentqa">StationSOH</a>&nbsp;ssoh)</pre>
<div class="block">Returns true if the given StationSOH object corresponds to a station and
 issue entry in SQL table edge.stationsoh within 48 hours of the current report. Returns false if the Station
 already exists in the table but the issue is new.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stmt</code> - DBConnectionThread Statement required for SQL query.</dd>
<dd><code>ssoh</code> - StationSOH report object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Boolean returning true if the station AND issue are already known.</dd>
</dl>
</li>
</ul>
<a name="insertStationSOH-java.sql.Statement-instrumentqa.StationSOH-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertStationSOH</h4>
<pre>public static&nbsp;void&nbsp;insertStationSOH(java.sql.Statement&nbsp;stmt,
                                    <a href="../instrumentqa/StationSOH.html" title="class in instrumentqa">StationSOH</a>&nbsp;ssoh)</pre>
<div class="block">Inserts a row into the SQL table edge.stationsoh. The row is filled out
 based on values stored in StationSOH object. The 'created_by' field of the
 SQL table is hardwired to be '0'. If this method is used when the
 StationSOH object corresponds to an ongoing issue report, then a second
 entry will be inserted into the SQL table. Make sure that this method is 
 only called when the StationSOH object used in the argument is a new issue.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stmt</code> - DBConnectionThread Statement required for SQL update.</dd>
<dd><code>ssoh</code> - StationSOH report object.</dd>
</dl>
</li>
</ul>
<a name="updateStationSOH-java.sql.Statement-instrumentqa.StationSOH-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateStationSOH</h4>
<pre>public static&nbsp;void&nbsp;updateStationSOH(java.sql.Statement&nbsp;stmt,
                                    <a href="../instrumentqa/StationSOH.html" title="class in instrumentqa">StationSOH</a>&nbsp;ssoh,
                                    int&nbsp;id)</pre>
<div class="block">Updates the 'ending' and 'updated' fields in the SQL table edge.stationsoh.
 This method should only be called when the StationSOH object is known to be
 a continuing issue that is already listed in the SQL table.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stmt</code> - DBConnectionThread Statement required for SQL update.</dd>
<dd><code>ssoh</code> - StationSOH report object.</dd>
<dd><code>id</code> - The ID of the stationSOH record to be updated.</dd>
</dl>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<div class="block">This main method read an iqxml report and updates the stationsoh table.
 It initializes the thread properties, opens a DBConnection thread which is
 used to perform all SQL queries and updates, parses the iqxml reports, 
 constructs StationSOH objects, and compares their content to the values
 stored in the SQL table edge.stationsoh. When a new station/issue is 
 encountered, it is added to the table. When an old station/issue is 
 included in the report, its ending time is updated. Issues that are not 
 updated and have presumably been restored to functionality are stored. 
 Then, a report containing a list of all new, updated, and resolved issues
 is emailed to an administrator.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - unused</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../instrumentqa/StationSOH.html" title="class in instrumentqa"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?instrumentqa/InstrumentQA.html" target="_top">Frames</a></li>
<li><a href="InstrumentQA.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
