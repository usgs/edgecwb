<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Tue Dec 18 04:04:17 MST 2018 -->
<title>DCC512Outputer</title>
<meta name="date" content="2018-12-18">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DCC512Outputer";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/cwbqueryclient/CWBQuery.html" title="class in gov.usgs.anss.cwbqueryclient"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/cwbqueryclient/DCCOutputer.html" title="class in gov.usgs.anss.cwbqueryclient"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/cwbqueryclient/DCC512Outputer.html" target="_top">Frames</a></li>
<li><a href="DCC512Outputer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gov.usgs.anss.cwbqueryclient</div>
<h2 title="Class DCC512Outputer" class="title">Class DCC512Outputer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../gov/usgs/anss/cwbqueryclient/Outputer.html" title="class in gov.usgs.anss.cwbqueryclient">gov.usgs.anss.cwbqueryclient.Outputer</a></li>
<li>
<ul class="inheritance">
<li>gov.usgs.anss.cwbqueryclient.DCC512Outputer</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../gov/usgs/anss/edge/MiniSeedOutputHandler.html" title="interface in gov.usgs.anss.edge">MiniSeedOutputHandler</a></dd>
</dl>
<hr>
<br>
<pre>public final class <span class="typeNameLabel">DCC512Outputer</span>
extends <a href="../../../../gov/usgs/anss/cwbqueryclient/Outputer.html" title="class in gov.usgs.anss.cwbqueryclient">Outputer</a>
implements <a href="../../../../gov/usgs/anss/edge/MiniSeedOutputHandler.html" title="interface in gov.usgs.anss.edge">MiniSeedOutputHandler</a></pre>
<div class="block">This class generates 512 byte mini-seed from the returned blocks from a query. It uses the
 following general algorithm :

 1) Create "spans" from the list of blocks (list of contiguous blocks) This insures blocks that
 are "overlapping" are in separate spans so the best spans can be chosen.

 2) The spans are processed to proved a single block covering each section of time. Overlaps are
 guaranteed to be only one block long.

 3) The list of blocks are then processed into 512 byte blocks. If any 4096 byte blocks are found
 they are expanded into 9 or fewer 512 blocks. These are added built onto the list with duplicates
 eliminated. T 4) The blocks are output when a) There is not enough room in the 4096 to add the
 next one, b) The block to be added would cause the reverse integration error for the assembled
 block c) The last block added is a "partial" that is not a full set of data frames. d) The next
 block to add is not contiguous in time

 (b) above occurs when the RawToMiniSeed class compresses data in more than one section but in
 separate runs. When this happens the first difference in the block is to zero rather than the
 last data value of the prior data frame. The choice is to fix the difference or to break the
 blocks at these boundaries.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/cwbqueryclient/DCC512Outputer.html#DCC512Outputer--">DCC512Outputer</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/cwbqueryclient/DCC512Outputer.html#close--">close</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../../../gov/usgs/anss/seed/MiniSeed.html" title="class in gov.usgs.anss.seed">MiniSeed</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/cwbqueryclient/DCC512Outputer.html#getOutblocks--">getOutblocks</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/cwbqueryclient/DCC512Outputer.html#makeFile-java.lang.String-java.lang.String-java.lang.String-java.util.ArrayList-java.util.Date-double-java.lang.String:A-">makeFile</a></span>(java.lang.String&nbsp;comp,
        java.lang.String&nbsp;filename,
        java.lang.String&nbsp;filemask,
        java.util.ArrayList&lt;<a href="../../../../gov/usgs/anss/seed/MiniSeed.html" title="class in gov.usgs.anss.seed">MiniSeed</a>&gt;&nbsp;blksin,
        java.util.Date&nbsp;beg,
        double&nbsp;duration,
        java.lang.String[]&nbsp;args)</code>
<div class="block">the main routine gives an UNSORTED list in blks.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/cwbqueryclient/DCC512Outputer.html#putbuf-byte:A-int-">putbuf</a></span>(byte[]&nbsp;b,
      int&nbsp;size)</code>
<div class="block">implement compression handler</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DCC512Outputer--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DCC512Outputer</h4>
<pre>public&nbsp;DCC512Outputer()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getOutblocks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutblocks</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../../../gov/usgs/anss/seed/MiniSeed.html" title="class in gov.usgs.anss.seed">MiniSeed</a>&gt;&nbsp;getOutblocks()</pre>
</li>
</ul>
<a name="makeFile-java.lang.String-java.lang.String-java.lang.String-java.util.ArrayList-java.util.Date-double-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeFile</h4>
<pre>public&nbsp;void&nbsp;makeFile(java.lang.String&nbsp;comp,
                     java.lang.String&nbsp;filename,
                     java.lang.String&nbsp;filemask,
                     java.util.ArrayList&lt;<a href="../../../../gov/usgs/anss/seed/MiniSeed.html" title="class in gov.usgs.anss.seed">MiniSeed</a>&gt;&nbsp;blksin,
                     java.util.Date&nbsp;beg,
                     double&nbsp;duration,
                     java.lang.String[]&nbsp;args)
              throws java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../gov/usgs/anss/cwbqueryclient/Outputer.html#makeFile-java.lang.String-java.lang.String-java.lang.String-java.util.ArrayList-java.util.Date-double-java.lang.String:A-">Outputer</a></code></span></div>
<div class="block">the main routine gives an UNSORTED list in blks. If it needs to be sorted call
 Collections.sort(blks);</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/cwbqueryclient/Outputer.html#makeFile-java.lang.String-java.lang.String-java.lang.String-java.util.ArrayList-java.util.Date-double-java.lang.String:A-">makeFile</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/cwbqueryclient/Outputer.html" title="class in gov.usgs.anss.cwbqueryclient">Outputer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>comp</code> - NNSSSSSCCCLL channel name</dd>
<dd><code>filename</code> - Filename for output</dd>
<dd><code>filemask</code> - The file mask with % operators for constructing a name (filename was derived from
 this)</dd>
<dd><code>blksin</code> - The list of MiniSeed blocks to put into the output file</dd>
<dd><code>beg</code> - The beginning time of the time series</dd>
<dd><code>duration</code> - The duration of time series desired</dd>
<dd><code>args</code> - The original arguments to EdgeQueryClient so that additional args can be used by
 each outputer</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="putbuf-byte:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putbuf</h4>
<pre>public&nbsp;void&nbsp;putbuf(byte[]&nbsp;b,
                   int&nbsp;size)</pre>
<div class="block">implement compression handler</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edge/MiniSeedOutputHandler.html#putbuf-byte:A-int-">putbuf</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/edge/MiniSeedOutputHandler.html" title="interface in gov.usgs.anss.edge">MiniSeedOutputHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>b</code> - The buffer of Miniseed data</dd>
<dd><code>size</code> - The length of said buffer</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edge/MiniSeedOutputHandler.html#close--">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/edge/MiniSeedOutputHandler.html" title="interface in gov.usgs.anss.edge">MiniSeedOutputHandler</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/cwbqueryclient/CWBQuery.html" title="class in gov.usgs.anss.cwbqueryclient"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/cwbqueryclient/DCCOutputer.html" title="class in gov.usgs.anss.cwbqueryclient"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/cwbqueryclient/DCC512Outputer.html" target="_top">Frames</a></li>
<li><a href="DCC512Outputer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
