<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Tue Dec 18 04:04:37 MST 2018 -->
<title>RingServerSeedLink</title>
<meta name="date" content="2018-12-18">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RingServerSeedLink";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/edgeoutput/RingFileToLISS.RF2LISSMonitor.html" title="class in gov.usgs.anss.edgeoutput"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.AckReader.html" title="class in gov.usgs.anss.edgeoutput"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/edgeoutput/RingServerSeedLink.html" target="_top">Frames</a></li>
<li><a href="RingServerSeedLink.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gov.usgs.anss.edgeoutput</div>
<h2 title="Class RingServerSeedLink" class="title">Class RingServerSeedLink</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">gov.usgs.anss.edgeoutput.EdgeOutputer</a></li>
<li>
<ul class="inheritance">
<li>gov.usgs.anss.edgeoutput.RingServerSeedLink</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html" title="interface in gov.usgs.anss.edgethread">ManagerInterface</a></dd>
</dl>
<hr>
<br>
<pre>public final class <span class="typeNameLabel">RingServerSeedLink</span>
extends <a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">EdgeOutputer</a>
implements <a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html" title="interface in gov.usgs.anss.edgethread">ManagerInterface</a></pre>
<div class="block">This class writes data scheduled to go to a IRIS ringserver (thanks Chad T) and has extended to
 allow sending raw data to a QueryMom based DataLinkToQueryServer. It opens a port to a DataLink
 port on a ringserver and writes each qualified block as described by the edge/cwb sendto system
 to this port.
 <br>
 Basic design : The each time a block come in it is put in a short memory queue to buffer data on
 the TCP/IP link. If the queue is full, the blocks are written to a buffer file.
 <p>
 The sender thread is in either file or queue mode. If the file is exhausted it is zapped, and
 data is sent from the queue. If neither is available, sleep and wait for some.
 <p>
 This thread is created by the OutputInfrastructire to instantiate feeds to the ring servers or
 memory buffers in QueryMom.
 <PRE>
 NOTE: for feeding a QueryMom memory cache the normal arguments are :
 -allowram -h 127.0.0.1 -p 16099 -qsize 2000 -file /data2/ram.queue
 switch  argsOrg     Description
 -h     ipadr    The address of the ringserver datalink  (def=localhost)
 -p     port     The datalink port number on the ringserver (def=18002)
 -allowlog       If set LOG records will go out (normally not a good idea)
 -qsize nnnn     The number of miniseed blocks to buffer through the in memory queue (512 bytes each, def=1000)
 -file  filenam  The filename of the file to use for backup buffering (def=ringserver.queued)
 -maxdisk nnn    Maximum amount of disk space to use in mB (def=1000 mB).
 -allowrestricted true  If argument is 'true', then allow restricted channels
 -allowraw       This must be set if this RSSL is being used to send raw data to a QueryMom DLTQS.
 -xinst          A regular expression of instances that are blocked output blocked
 -dbg            Set more voluminous log output
 -dbgchan        Channel tag to match with contains
 </PRE></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.AckReader.html" title="class in gov.usgs.anss.edgeoutput">RingServerSeedLink.AckReader</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.RingServerOutputter.html" title="class in gov.usgs.anss.edgeoutput">RingServerSeedLink.RingServerOutputter</a></span></code>
<div class="block">This class is internat to the RingServerSeedLink and takes data from the Memory or disk file
 and sends it to a DataLink receiver.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#RingServerSeedLink-gov.usgs.edge.config.Sendto-java.lang.String-gov.usgs.anss.edgethread.EdgeThread-">RingServerSeedLink</a></span>(<a href="../../../../gov/usgs/edge/config/Sendto.html" title="class in gov.usgs.edge.config">Sendto</a>&nbsp;sendto,
                  java.lang.String&nbsp;tag,
                  <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)</code>
<div class="block">Creates a new instance of RingServerSeedLink.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#RingServerSeedLink-java.lang.String-java.lang.String-boolean-gov.usgs.anss.edgethread.EdgeThread-">RingServerSeedLink</a></span>(java.lang.String&nbsp;argline,
                  java.lang.String&nbsp;tag,
                  boolean&nbsp;allowrestricted,
                  <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)</code>
<div class="block">Creates a new instance of RingServerSeedLink.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#RingServerSeedLink-java.lang.String-java.lang.String-gov.usgs.anss.edgethread.EdgeThread-">RingServerSeedLink</a></span>(java.lang.String&nbsp;argline,
                  java.lang.String&nbsp;tag,
                  <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#close--">close</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#getArgs--">getArgs</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#getBytesIn--">getBytesIn</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#getBytesOut--">getBytesOut</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#getCheck--">getCheck</a></span>()</code>
<div class="block">return the check flag</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#getFilename--">getFilename</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#getHost--">getHost</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#getPort--">getPort</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#getSendtoMask--">getSendtoMask</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#isAlive--">isAlive</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#isRunning--">isRunning</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#processBlock-byte:A-gov.usgs.edge.config.Channel-">processBlock</a></span>(byte[]&nbsp;msbuf,
            <a href="../../../../gov/usgs/edge/config/Channel.html" title="class in gov.usgs.edge.config">Channel</a>&nbsp;c)</code>
<div class="block">process a block through the EdgeOutputer system</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#processRawBlock-gov.usgs.edge.config.Channel-java.lang.StringBuilder-long-double-int-int:A-">processRawBlock</a></span>(<a href="../../../../gov/usgs/edge/config/Channel.html" title="class in gov.usgs.edge.config">Channel</a>&nbsp;c,
               java.lang.StringBuilder&nbsp;seedname,
               long&nbsp;time,
               double&nbsp;rate,
               int&nbsp;nsamp,
               int[]&nbsp;data)</code>
<div class="block">Process a raw data block to a DataLink - this is only useful for populating the RAM QuerySpan
 portion of a QueryMom.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#processRawBlockQM-java.lang.StringBuilder-long-double-int-int:A-">processRawBlockQM</a></span>(java.lang.StringBuilder&nbsp;seedname,
                 long&nbsp;time,
                 double&nbsp;rate,
                 int&nbsp;nsamp,
                 int[]&nbsp;data)</code>
<div class="block">Process a raw data block to a DataLink - this is only useful for populating the RAM QuerySpan
 portion of a QueryMom when not using the OutputInfrastructure system.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#prt-java.lang.String-">prt</a></span>(java.lang.String&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#prt-java.lang.StringBuilder-">prt</a></span>(java.lang.StringBuilder&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#prta-java.lang.String-">prta</a></span>(java.lang.String&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#prta-java.lang.StringBuilder-">prta</a></span>(java.lang.StringBuilder&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#setCheck-boolean-">setCheck</a></span>(boolean&nbsp;t)</code>
<div class="block">set the check flag in this file</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#setDebug-boolean-">setDebug</a></span>(boolean&nbsp;b)</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#setSendto-gov.usgs.edge.config.Sendto-">setSendto</a></span>(<a href="../../../../gov/usgs/edge/config/Sendto.html" title="class in gov.usgs.edge.config">Sendto</a>&nbsp;sendto)</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#terminate--">terminate</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>java.lang.StringBuilder</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#toStringBuilder-java.lang.StringBuilder-">toStringBuilder</a></span>(java.lang.StringBuilder&nbsp;tmp)</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.html#writeNext-byte:A-int-int-long-long-">writeNext</a></span>(byte[]&nbsp;b,
         int&nbsp;off,
         int&nbsp;len,
         long&nbsp;sendto,
         long&nbsp;flags)</code>
<div class="block">Write to this file if the sendto mask indicates this is the right file</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RingServerSeedLink-gov.usgs.edge.config.Sendto-java.lang.String-gov.usgs.anss.edgethread.EdgeThread-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RingServerSeedLink</h4>
<pre>public&nbsp;RingServerSeedLink(<a href="../../../../gov/usgs/edge/config/Sendto.html" title="class in gov.usgs.edge.config">Sendto</a>&nbsp;sendto,
                          java.lang.String&nbsp;tag,
                          <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)
                   throws java.io.FileNotFoundException,
                          java.io.IOException</pre>
<div class="block">Creates a new instance of RingServerSeedLink. This is a EdgeOutputer created and called by the
 OutputInfrastructure class. It takes the MiniSeed blocks and sends them on a DataLink to a
 ringserver instances. The data normally just go into a memory based Queue for buffering.
 However, if this queue is full, a file will be created to take the blocks. This file will only
 be read back when the queue is empty until the file is empty and then everything goes back to
 normal. This constructor was used by the original OutputInfrastructure class where
 configuration file was not used.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sendto</code> - This sendto object contains the allowrestricted and arguments strings</dd>
<dd><code>tag</code> - A tag for logging</dd>
<dd><code>parent</code> - EdgeThread for logging</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - if the file cannot be opened</dd>
<dd><code>java.io.IOException</code> - If one occurs.</dd>
</dl>
</li>
</ul>
<a name="RingServerSeedLink-java.lang.String-java.lang.String-gov.usgs.anss.edgethread.EdgeThread-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RingServerSeedLink</h4>
<pre>public&nbsp;RingServerSeedLink(java.lang.String&nbsp;argline,
                          java.lang.String&nbsp;tag,
                          <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)
                   throws java.io.FileNotFoundException,
                          java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="RingServerSeedLink-java.lang.String-java.lang.String-boolean-gov.usgs.anss.edgethread.EdgeThread-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RingServerSeedLink</h4>
<pre>public&nbsp;RingServerSeedLink(java.lang.String&nbsp;argline,
                          java.lang.String&nbsp;tag,
                          boolean&nbsp;allowrestricted,
                          <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)
                   throws java.io.FileNotFoundException,
                          java.io.IOException</pre>
<div class="block">Creates a new instance of RingServerSeedLink. This is a EdgeOutputer created and called by the
 OutputInfrastructure class. It takes the MiniSeed blocks and sends them on a DataLink to a
 ringserver instances. The data normally just go into a memory based Queue for buffering.
 However, if this queue is full, a file will be created to take the blocks. This file will only
 be read back when the queue is empty until the file is empty and then everything goes back to
 normal.
 <p>
 <PRE>
 The possible arguments are :

 switch argsOrg Description -h ipadr The address of the ringserver datalink -p port The datalink
 port number on the ringserver -allowlog If set LOG records will go out (normally not a good
 idea) -qsize nnnn The number of miniseed blocks to buffer through the in memory queue -file
 filenam The filename of the file to use for backup buffering (def=ringserver.queued) -maxdisk
 nnn Maximum amount of disk space to use in mB. -allowrestricted true If argument is word "true"
 then restricted is allowed -allowlog If set LOG records will go out (normally not a good idea)
 -dbg Set more voluminous log output
 </PRE></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>argline</code> - The arguments to here</dd>
<dd><code>tag</code> - A logging tag</dd>
<dd><code>allowrestricted</code> - Whether restricted output is allowed, this can be overriden with command
 line argument "-allowrestricted true"</dd>
<dd><code>parent</code> - A logging EdgeThread.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getBytesIn--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBytesIn</h4>
<pre>public&nbsp;long&nbsp;getBytesIn()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html#getBytesIn--">getBytesIn</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html" title="interface in gov.usgs.anss.edgethread">ManagerInterface</a></code></dd>
</dl>
</li>
</ul>
<a name="isRunning--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRunning</h4>
<pre>public&nbsp;boolean&nbsp;isRunning()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html#isRunning--">isRunning</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html" title="interface in gov.usgs.anss.edgethread">ManagerInterface</a></code></dd>
</dl>
</li>
</ul>
<a name="isAlive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAlive</h4>
<pre>public&nbsp;boolean&nbsp;isAlive()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html#isAlive--">isAlive</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html" title="interface in gov.usgs.anss.edgethread">ManagerInterface</a></code></dd>
</dl>
</li>
</ul>
<a name="setCheck-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCheck</h4>
<pre>public&nbsp;void&nbsp;setCheck(boolean&nbsp;t)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html#setCheck-boolean-">ManagerInterface</a></code></span></div>
<div class="block">set the check flag in this file</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html#setCheck-boolean-">setCheck</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html" title="interface in gov.usgs.anss.edgethread">ManagerInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - What to set the check flag to</dd>
</dl>
</li>
</ul>
<a name="getCheck--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCheck</h4>
<pre>public&nbsp;boolean&nbsp;getCheck()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html#getCheck--">ManagerInterface</a></code></span></div>
<div class="block">return the check flag</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html#getCheck--">getCheck</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html" title="interface in gov.usgs.anss.edgethread">ManagerInterface</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The state of the check flag</dd>
</dl>
</li>
</ul>
<a name="getPort--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPort</h4>
<pre>public&nbsp;int&nbsp;getPort()</pre>
</li>
</ul>
<a name="getHost--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHost</h4>
<pre>public&nbsp;java.lang.String&nbsp;getHost()</pre>
</li>
</ul>
<a name="getBytesOut--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBytesOut</h4>
<pre>public&nbsp;long&nbsp;getBytesOut()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html#getBytesOut--">getBytesOut</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html" title="interface in gov.usgs.anss.edgethread">ManagerInterface</a></code></dd>
</dl>
</li>
</ul>
<a name="getArgs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getArgs</h4>
<pre>public&nbsp;java.lang.String&nbsp;getArgs()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html#getArgs--">getArgs</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html" title="interface in gov.usgs.anss.edgethread">ManagerInterface</a></code></dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="toStringBuilder-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toStringBuilder</h4>
<pre>public&nbsp;java.lang.StringBuilder&nbsp;toStringBuilder(java.lang.StringBuilder&nbsp;tmp)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html#toStringBuilder-java.lang.StringBuilder-">toStringBuilder</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">EdgeOutputer</a></code></dd>
</dl>
</li>
</ul>
<a name="getFilename--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFilename</h4>
<pre>public&nbsp;java.lang.String&nbsp;getFilename()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html#getFilename--">getFilename</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">EdgeOutputer</a></code></dd>
</dl>
</li>
</ul>
<a name="setDebug-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDebug</h4>
<pre>public&nbsp;void&nbsp;setDebug(boolean&nbsp;b)</pre>
</li>
</ul>
<a name="terminate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre>public&nbsp;void&nbsp;terminate()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html#terminate--">terminate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html" title="interface in gov.usgs.anss.edgethread">ManagerInterface</a></code></dd>
</dl>
</li>
</ul>
<a name="getSendtoMask--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSendtoMask</h4>
<pre>public&nbsp;long&nbsp;getSendtoMask()</pre>
</li>
</ul>
<a name="setSendto-gov.usgs.edge.config.Sendto-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSendto</h4>
<pre>public final&nbsp;void&nbsp;setSendto(<a href="../../../../gov/usgs/edge/config/Sendto.html" title="class in gov.usgs.edge.config">Sendto</a>&nbsp;sendto)</pre>
</li>
</ul>
<a name="prt-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prt</h4>
<pre>public final&nbsp;void&nbsp;prt(java.lang.String&nbsp;s)</pre>
</li>
</ul>
<a name="prta-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prta</h4>
<pre>public final&nbsp;void&nbsp;prta(java.lang.String&nbsp;s)</pre>
</li>
</ul>
<a name="prt-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prt</h4>
<pre>public final&nbsp;void&nbsp;prt(java.lang.StringBuilder&nbsp;s)</pre>
</li>
</ul>
<a name="prta-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prta</h4>
<pre>public final&nbsp;void&nbsp;prta(java.lang.StringBuilder&nbsp;s)</pre>
</li>
</ul>
<a name="processBlock-byte:A-gov.usgs.edge.config.Channel-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processBlock</h4>
<pre>public&nbsp;void&nbsp;processBlock(byte[]&nbsp;msbuf,
                         <a href="../../../../gov/usgs/edge/config/Channel.html" title="class in gov.usgs.edge.config">Channel</a>&nbsp;c)</pre>
<div class="block">process a block through the EdgeOutputer system</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html#processBlock-byte:A-gov.usgs.edge.config.Channel-">processBlock</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">EdgeOutputer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msbuf</code> - buffer of bytes containing miniseed data</dd>
<dd><code>c</code> - A channel for the seedname in the edgeblock</dd>
</dl>
</li>
</ul>
<a name="processRawBlock-gov.usgs.edge.config.Channel-java.lang.StringBuilder-long-double-int-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processRawBlock</h4>
<pre>public&nbsp;void&nbsp;processRawBlock(<a href="../../../../gov/usgs/edge/config/Channel.html" title="class in gov.usgs.edge.config">Channel</a>&nbsp;c,
                            java.lang.StringBuilder&nbsp;seedname,
                            long&nbsp;time,
                            double&nbsp;rate,
                            int&nbsp;nsamp,
                            int[]&nbsp;data)</pre>
<div class="block">Process a raw data block to a DataLink - this is only useful for populating the RAM QuerySpan
 portion of a QueryMom. This RingServerSeedLink must be specifically enabled to send raw data
 (-allowraw). If this is not true, any calls to this routine are ignored. This capability of
 sending raw data is an extension of the DataLink Protocol added by the Edge/CWB project, so
 this kind of data should never be sent to a IRIS ringserver.
 <p>
 Since the source of raw data might have more than 100 samples, this routine will break any
 larger number of samples into a series of WRITE /RAW blocks to the DataLink. The data are
 queued with the MiniSeed blocks so the total size limit of a RAW packet is 512 bytes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html#processRawBlock-gov.usgs.edge.config.Channel-java.lang.StringBuilder-long-double-int-int:A-">processRawBlock</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">EdgeOutputer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - A channel object so configuration info like sendto masks etc are available for this
 channel</dd>
<dd><code>seedname</code> - The 12 character NNSSSSSCCCLL of the time series bit being inserted raw.</dd>
<dd><code>time</code> - The millis since 1970 with the start time of the first sample</dd>
<dd><code>rate</code> - Digitizing rate in Hz.</dd>
<dd><code>nsamp</code> - The number of data samples in data[]</dd>
<dd><code>data</code> - The data samples.</dd>
</dl>
</li>
</ul>
<a name="processRawBlockQM-java.lang.StringBuilder-long-double-int-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processRawBlockQM</h4>
<pre>public&nbsp;void&nbsp;processRawBlockQM(java.lang.StringBuilder&nbsp;seedname,
                              long&nbsp;time,
                              double&nbsp;rate,
                              int&nbsp;nsamp,
                              int[]&nbsp;data)</pre>
<div class="block">Process a raw data block to a DataLink - this is only useful for populating the RAM QuerySpan
 portion of a QueryMom when not using the OutputInfrastructure system. This is mainly used by
 the LHDerivedToQueryMom. This capability of sending raw data is an extension of the DataLink
 Protocol added by the Edge/CWB project, so this kind of data should never be sent to a IRIS
 ringserver.
 <p>
 Since the source of raw data might have more than 100 samples, this routine will break any
 larger number of samples into a series of WRITE /RAW blocks to the DataLink. The data are
 queued with the MiniSeed blocks so the total size limit of a RAW packet is 512 bytes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>seedname</code> - The 12 character NNSSSSSCCCLL of the time series bit being inserted raw.</dd>
<dd><code>time</code> - The millis since 1970 with the start time of the first sample</dd>
<dd><code>rate</code> - Digitizing rate in Hz.</dd>
<dd><code>nsamp</code> - The number of data samples in data[]</dd>
<dd><code>data</code> - The data samples.</dd>
</dl>
</li>
</ul>
<a name="writeNext-byte:A-int-int-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeNext</h4>
<pre>public&nbsp;void&nbsp;writeNext(byte[]&nbsp;b,
                      int&nbsp;off,
                      int&nbsp;len,
                      long&nbsp;sendto,
                      long&nbsp;flags)
               throws java.io.IOException</pre>
<div class="block">Write to this file if the sendto mask indicates this is the right file</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>b</code> - The data buffer to write</dd>
<dd><code>off</code> - The offset in buffer to start write</dd>
<dd><code>len</code> - The number of bytes to write</dd>
<dd><code>sendto</code> - The raw sendto bit mask for this block</dd>
<dd><code>flags</code> - The channel flags, (which might be used to disable this temporarily)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html#close--">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">EdgeOutputer</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/edgeoutput/RingFileToLISS.RF2LISSMonitor.html" title="class in gov.usgs.anss.edgeoutput"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.AckReader.html" title="class in gov.usgs.anss.edgeoutput"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/edgeoutput/RingServerSeedLink.html" target="_top">Frames</a></li>
<li><a href="RingServerSeedLink.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
