<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Tue Oct 10 04:04:36 MDT 2017 -->
<title>RRPRingFile</title>
<meta name="date" content="2017-10-10">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RRPRingFile";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":9,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.RingServerOutputter.html" title="class in gov.usgs.anss.edgeoutput"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.RRPBlock.html" title="class in gov.usgs.anss.edgeoutput"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/edgeoutput/RRPRingFile.html" target="_top">Frames</a></li>
<li><a href="RRPRingFile.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.gov.usgs.anss.edgeoutput.RingFile">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gov.usgs.anss.edgeoutput</div>
<h2 title="Class RRPRingFile" class="title">Class RRPRingFile</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">gov.usgs.anss.edgeoutput.EdgeOutputer</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">gov.usgs.anss.edgeoutput.RingFile</a></li>
<li>
<ul class="inheritance">
<li>gov.usgs.anss.edgeoutput.RRPRingFile</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html" title="interface in gov.usgs.anss.edgethread">ManagerInterface</a></dd>
</dl>
<hr>
<br>
<pre>public final class <span class="typeNameLabel">RRPRingFile</span>
extends <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a></pre>
<div class="block">This block writes a ring file with a physical of size+1 blocks. The blocks Are written into the
 file at (seq % size) +1 block (blocks 1-size+1).
 <p>
 The main difference with the RingFile class is that the first block is not used to update where
 the last known block was written. This is kept in a state file (RRPStateFile) so that static RAM
 systems to not get the first block written so often. The StateFile used to update where we are by
 writing out the value of the next sequence to write(nextout). The first block still contains the
 size of the ring. The other difference is this class also configures the RRPClient which will
 write out the file. The other main difference is that this will create a RRPClient thread to send
 out this ring file based on the parameters given and will provide to the RRPClient a queue of
 recent data written to the ring file so that an extra read of the ring is not needed to forward
 the data.
 <p>
 On an RTS2/Slate2 configuration this object is create the ring file from the OutputInfrastructure
 thread. It creates a RRPStateFile with the extension .rf. Such a OI line will have the -rrp
 switch which will start a RRPClient to send the file to the NEIC. This will create a RRPStateFile
 witht the extension .rrpc which controls reading back the file and sending it out.
 <p>
 The sequence numbers within a ring increase until 2,000,000,000 is reached. This sequence the
 maps to sequence zero again. Because of this architecture the size of the file blocks must divide
 evenly into 2,000,000,000. We specify the file in MB which is really 2000 blocks to insure this
 is true.
 <p>
 Cooperates with OutputInfrastructure calls for each packet. Has a mask of the data to include in
 this RingFile and a mask of the individual disable so each block can be evaluated for inclusion
 and temporary override. Also enforces the restricted data flag if the file is not setup to allow
 restricted data on this ring. This flag usually comes from the sendTo.allow restricted which
 allow restricted data to things like VMS and other internal processing, but not to other SendTos.
 <p>
 For use on static ram for file systems, set the updateMS to be really big - then the last block
 written will be done only on termination. For RRPClient use the starting sequence is normally set
 in this file from the RRPclient last ack file so the last block written here is not really very
 important when the RRPClient is started by this RingFile RRPClient is really keeping track of
 last data to the file and the last acked packet.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.RRPBlock.html" title="class in gov.usgs.anss.edgeoutput">RRPRingFile.RRPBlock</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.RRPUpdaterThread.html" title="class in gov.usgs.anss.edgeoutput">RRPRingFile.RRPUpdaterThread</a></span></code>
<div class="block">This thread periodically updates the statefile with the last sequence written to the file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.gov.usgs.anss.edgeoutput.RingFile">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;gov.usgs.anss.edgeoutput.<a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a></h3>
<code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.UpdaterThread.html" title="class in gov.usgs.anss.edgeoutput">RingFile.UpdaterThread</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.gov.usgs.anss.edgeoutput.RingFile">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;gov.usgs.anss.edgeoutput.<a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a></h3>
<code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#args">args</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#b">b</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#bb">bb</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#dbg">dbg</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#disableMask">disableMask</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#dsk">dsk</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#filename">filename</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#isNew">isNew</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#lastUpdate">lastUpdate</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#mask">mask</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#MAX_SEQ">MAX_SEQ</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#name">name</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#nextout">nextout</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#par">par</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#rings">rings</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#sendLog">sendLog</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#size">size</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#terminate">terminate</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#updateMS">updateMS</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#zerobuf">zerobuf</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#RRPRingFile-java.lang.String-gov.usgs.anss.edgethread.EdgeThread-">RRPRingFile</a></span>(java.lang.String&nbsp;argline,
           <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)</code>
<div class="block">This constructor is used by the OutputInfrastructureManager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#RRPRingFile-java.lang.String-java.lang.String-int-int-long-long-boolean-java.lang.String-gov.usgs.anss.edgethread.EdgeThread-">RRPRingFile</a></span>(java.lang.String&nbsp;path,
           java.lang.String&nbsp;name,
           int&nbsp;updMS,
           int&nbsp;sizeMB,
           long&nbsp;bit,
           long&nbsp;disable,
           boolean&nbsp;allow,
           java.lang.String&nbsp;args,
           <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)</code>
<div class="block">Creates a new instance of RingFile (note : this might have been easier if we had a constructor
 which takes the sendto object directly).</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#close--">close</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#doUpdate--">doUpdate</a></span>()</code>
<div class="block">Update nextout setting to disk.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#getNextout--">getNextout</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#getQueueForSeq-int-">getQueueForSeq</a></span>(int&nbsp;sq)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#hasWrapped--">hasWrapped</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#isSeqActive-int-">isSeqActive</a></span>(int&nbsp;seq)</code>
<div class="block">Test if sequence is in this current file</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#length--">length</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#processBlock-byte:A-gov.usgs.edge.config.Channel-">processBlock</a></span>(byte[]&nbsp;msbuf,
            <a href="../../../../gov/usgs/edge/config/Channel.html" title="class in gov.usgs.edge.config">Channel</a>&nbsp;c)</code>
<div class="block">process a block through the OutputInfrastructure system</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#processRawBlock-gov.usgs.edge.config.Channel-java.lang.StringBuilder-long-double-int-int:A-">processRawBlock</a></span>(<a href="../../../../gov/usgs/edge/config/Channel.html" title="class in gov.usgs.edge.config">Channel</a>&nbsp;c,
               java.lang.StringBuilder&nbsp;seedname,
               long&nbsp;time,
               double&nbsp;rate,
               int&nbsp;nsamp,
               int[]&nbsp;data)</code>
<div class="block">This should never be called for a ring file.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#terminate--">terminate</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#writeNext-byte:A-">writeNext</a></span>(byte[]&nbsp;b)</code>
<div class="block">Write to this file the given data unconditionally</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#writeNext-byte:A-int-int-">writeNext</a></span>(byte[]&nbsp;b,
         int&nbsp;off,
         int&nbsp;len)</code>
<div class="block">Write to this file the given data unconditionally</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#writeNext-byte:A-int-int-long-long-">writeNext</a></span>(byte[]&nbsp;b,
         int&nbsp;off,
         int&nbsp;len,
         long&nbsp;sendto,
         long&nbsp;flags)</code>
<div class="block">Write to this file if the sento mask indicates this is the right file</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html#writeNext-byte:A-long-int-">writeNext</a></span>(byte[]&nbsp;b,
         long&nbsp;sendto,
         int&nbsp;flags)</code>
<div class="block">Write to this file if the sendto mask indicates this is the right file</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.gov.usgs.anss.edgeoutput.RingFile">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;gov.usgs.anss.edgeoutput.<a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a></h3>
<code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#clearUpdater--">clearUpdater</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#closeAll--">closeAll</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#getArgs--">getArgs</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#getBytesIn--">getBytesIn</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#getBytesOut--">getBytesOut</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#getCheck--">getCheck</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#getFilename--">getFilename</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#getSendtoMask--">getSendtoMask</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#getSize--">getSize</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#isAlive--">isAlive</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#isNew--">isNew</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#isRunning--">isRunning</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#prt-java.lang.String-">prt</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#prt-java.lang.StringBuilder-">prt</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#prta-java.lang.String-">prta</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#prta-java.lang.StringBuilder-">prta</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#setCheck-boolean-">setCheck</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#setDebug-boolean-">setDebug</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#toStringBuilder-java.lang.StringBuilder-">toStringBuilder</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#writeBlock-byte:A-int-int-long-long-">writeBlock</a>, <a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#zapFile-gov.usgs.anss.edge.RawDisk-int-">zapFile</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RRPRingFile-java.lang.String-gov.usgs.anss.edgethread.EdgeThread-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RRPRingFile</h4>
<pre>public&nbsp;RRPRingFile(java.lang.String&nbsp;argline,
                   <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)
            throws java.io.FileNotFoundException,
                   java.io.IOException</pre>
<div class="block">This constructor is used by the OutputInfrastructureManager. The other for the old
 OutputInfrastructure</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>argline</code> - An argument line like from the output infrastructure command file</dd>
<dd><code>parent</code> - A parent to use for logging</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="RRPRingFile-java.lang.String-java.lang.String-int-int-long-long-boolean-java.lang.String-gov.usgs.anss.edgethread.EdgeThread-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RRPRingFile</h4>
<pre>public&nbsp;RRPRingFile(java.lang.String&nbsp;path,
                   java.lang.String&nbsp;name,
                   int&nbsp;updMS,
                   int&nbsp;sizeMB,
                   long&nbsp;bit,
                   long&nbsp;disable,
                   boolean&nbsp;allow,
                   java.lang.String&nbsp;args,
                   <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)
            throws java.io.FileNotFoundException,
                   java.io.IOException</pre>
<div class="block">Creates a new instance of RingFile (note : this might have been easier if we had a constructor
 which takes the sendto object directly).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - The file path on which to make the RingFile or open it</dd>
<dd><code>name</code> - The filename of the ring (.ring will be added)</dd>
<dd><code>updMS</code> - The ms between updates of the header block</dd>
<dd><code>sizeMB</code> - The size of the file in mB</dd>
<dd><code>bit</code> - The mask of the bit associated with this ringfile 1<<(sendto.id-1) @param d
 isable The disable mask</dd>
<dd><code>allow</code> - If true, allow restricted output to ring file</dd>
<dd><code>args</code> - Arguments to this (-allowlog) and the arguments for the RRPClient</dd>
<dd><code>parent</code> - An EdgeThread for logging, or null to use default</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - if the file cannot be opened</dd>
<dd><code>java.io.IOException</code> - If one occurs.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#close--">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a></code></dd>
</dl>
</li>
</ul>
<a name="length--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>length</h4>
<pre>public&nbsp;long&nbsp;length()</pre>
</li>
</ul>
<a name="getQueueForSeq-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueueForSeq</h4>
<pre>public&nbsp;byte[]&nbsp;getQueueForSeq(int&nbsp;sq)</pre>
</li>
</ul>
<a name="terminate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre>public&nbsp;void&nbsp;terminate()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html#terminate--">terminate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/edgethread/ManagerInterface.html" title="interface in gov.usgs.anss.edgethread">ManagerInterface</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#terminate--">terminate</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a></code></dd>
</dl>
</li>
</ul>
<a name="hasWrapped--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasWrapped</h4>
<pre>public&nbsp;boolean&nbsp;hasWrapped()</pre>
</li>
</ul>
<a name="getNextout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextout</h4>
<pre>public&nbsp;int&nbsp;getNextout()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#getNextout--">getNextout</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a></code></dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#toString--">toString</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a></code></dd>
</dl>
</li>
</ul>
<a name="processRawBlock-gov.usgs.edge.config.Channel-java.lang.StringBuilder-long-double-int-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processRawBlock</h4>
<pre>public&nbsp;void&nbsp;processRawBlock(<a href="../../../../gov/usgs/edge/config/Channel.html" title="class in gov.usgs.edge.config">Channel</a>&nbsp;c,
                            java.lang.StringBuilder&nbsp;seedname,
                            long&nbsp;time,
                            double&nbsp;rate,
                            int&nbsp;nsamp,
                            int[]&nbsp;data)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#processRawBlock-gov.usgs.edge.config.Channel-java.lang.StringBuilder-long-double-int-int:A-">RingFile</a></code></span></div>
<div class="block">This should never be called for a ring file. This is how RAW data fills the memory buffers in
 RingServerSeedLink</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#processRawBlock-gov.usgs.edge.config.Channel-java.lang.StringBuilder-long-double-int-int:A-">processRawBlock</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - The channel record for this channel</dd>
<dd><code>seedname</code> - NNSSSSSCCCLL form</dd>
<dd><code>time</code> - The time since the 1970 epoch in millis</dd>
<dd><code>rate</code> - The digitizing rate for the packet</dd>
<dd><code>nsamp</code> - The number of samples in the data array</dd>
<dd><code>data</code> - Ints with raw data</dd>
</dl>
</li>
</ul>
<a name="isSeqActive-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSeqActive</h4>
<pre>public&nbsp;boolean&nbsp;isSeqActive(int&nbsp;seq)</pre>
<div class="block">Test if sequence is in this current file</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>seq</code> - The sequence to test</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the sequence is in the current file</dd>
</dl>
</li>
</ul>
<a name="processBlock-byte:A-gov.usgs.edge.config.Channel-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processBlock</h4>
<pre>public&nbsp;void&nbsp;processBlock(byte[]&nbsp;msbuf,
                         <a href="../../../../gov/usgs/edge/config/Channel.html" title="class in gov.usgs.edge.config">Channel</a>&nbsp;c)</pre>
<div class="block">process a block through the OutputInfrastructure system</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#processBlock-byte:A-gov.usgs.edge.config.Channel-">processBlock</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msbuf</code> - buffer of bytes containing miniseed data</dd>
<dd><code>c</code> - A channel for the seedname in the edgeblock</dd>
</dl>
</li>
</ul>
<a name="writeNext-byte:A-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeNext</h4>
<pre>public&nbsp;void&nbsp;writeNext(byte[]&nbsp;b,
                      long&nbsp;sendto,
                      int&nbsp;flags)</pre>
<div class="block">Write to this file if the sendto mask indicates this is the right file</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#writeNext-byte:A-long-int-">writeNext</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>b</code> - The data buffer to write</dd>
<dd><code>sendto</code> - The raw sendto bit mask for this block</dd>
<dd><code>flags</code> - The channel flags, (which might be used to disable this temporarily)</dd>
</dl>
</li>
</ul>
<a name="writeNext-byte:A-int-int-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeNext</h4>
<pre>public&nbsp;void&nbsp;writeNext(byte[]&nbsp;b,
                      int&nbsp;off,
                      int&nbsp;len,
                      long&nbsp;sendto,
                      long&nbsp;flags)</pre>
<div class="block">Write to this file if the sento mask indicates this is the right file</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#writeNext-byte:A-int-int-long-long-">writeNext</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>b</code> - The data buffer to write</dd>
<dd><code>off</code> - The offset in buffer to start write</dd>
<dd><code>len</code> - The number of bytes to write</dd>
<dd><code>sendto</code> - The raw sendto bit mask for this block</dd>
<dd><code>flags</code> - The channel flags, (which might be used to disable this temporarily)</dd>
</dl>
</li>
</ul>
<a name="writeNext-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeNext</h4>
<pre>public&nbsp;void&nbsp;writeNext(byte[]&nbsp;b)</pre>
<div class="block">Write to this file the given data unconditionally</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#writeNext-byte:A-">writeNext</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>b</code> - The data buffer to write, length is the length of the buffer</dd>
</dl>
</li>
</ul>
<a name="writeNext-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeNext</h4>
<pre>public&nbsp;void&nbsp;writeNext(byte[]&nbsp;b,
                      int&nbsp;off,
                      int&nbsp;len)</pre>
<div class="block">Write to this file the given data unconditionally</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#writeNext-byte:A-int-int-">writeNext</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>b</code> - The data buffer to write</dd>
<dd><code>off</code> - The offset in buffer to start write</dd>
<dd><code>len</code> - The number of bytes to write</dd>
</dl>
</li>
</ul>
<a name="doUpdate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doUpdate</h4>
<pre>public final&nbsp;void&nbsp;doUpdate()</pre>
<div class="block">Update nextout setting to disk. Normally called by RRPUpdaterThread and if file is closing.</div>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/edgeoutput/RingServerSeedLink.RingServerOutputter.html" title="class in gov.usgs.anss.edgeoutput"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.RRPBlock.html" title="class in gov.usgs.anss.edgeoutput"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/edgeoutput/RRPRingFile.html" target="_top">Frames</a></li>
<li><a href="RRPRingFile.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.gov.usgs.anss.edgeoutput.RingFile">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
