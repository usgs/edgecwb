<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Sun Jul 23 04:04:32 MDT 2017 -->
<title>EWExportSocket</title>
<meta name="date" content="2017-07-23">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EWExportSocket";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":9,"i21":10,"i22":10,"i23":10,"i24":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/ewexport/EWExportOutputer.html" title="class in gov.usgs.anss.ewexport"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/ewexport/TraceBufQueue.html" title="class in gov.usgs.anss.ewexport"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/ewexport/EWExportSocket.html" target="_top">Frames</a></li>
<li><a href="EWExportSocket.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.java.lang.Thread">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gov.usgs.anss.ewexport</div>
<h2 title="Class EWExportSocket" class="title">Class EWExportSocket</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.lang.Thread</li>
<li>
<ul class="inheritance">
<li>gov.usgs.anss.ewexport.EWExportSocket</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">EWExportSocket</span>
extends java.lang.Thread</pre>
<div class="block">This class controls a single sockets to an IMPORT.  It maintains a queue of TraceBufs
 that are ready to send, a separate EWExportOutputer which empties this queue onto the link
 and uses the queue for any roll backs.

 It has two modes >
 <p>
 1)  If the link is caught up, new data arrives via the checkBlock() method
 and if the channel in the TraceBuf is on this link, it is queued.  It was implemented this way
 so that if we are caught up the decompression and making of TraceBufs only is done once in the
 EWExport.
 <p>
 2) In this mode the link is behind in sequences and the current sequences are too far
 in the future.  A separate CatchUp thread reads in from the last sequence successfully processed
 until the head of the ring file is reached.  For each block, if the block is on the export list,
 it is processed into TraceBufs and added to the queue.  This process is throttled to the output list
 by suspending if the queue is full.


 <PRE>
 the line format is :
 TAG:IPADDRES:args

 where TAG is used to identify threads in the log and IPADDRESS is the address of
 the ip address of the EXPORT (-client or -server defines direction of connection)

 args          Description
 -client port This IMPORT is a client end and needs to make connection to host:port
 -server port This IMPORT is a server end and waits for connections from host:port
 -ack          This IMPORT uses acks for every packet
 -hbout msg    Set the heart beat message to send to EXPORT (importalive)
 -hbin msg     The message expected from the EXPORT end (exportalive)
 -hbint int    Seconds between heartbeats to the EXPORT
 -hbto int    seconds to allow for receipt of heartbeat from EXPORT before declaring a dead connection
 -inst iiii    This ends heart beats will use this institution code
 -mod  iiii    This ends heart beats will use thiis module code
 -nooutput     If present, no data will be send to be compressed and stored.
 -param:brd.ip.addr:portoff[:inst:module] This is a params import, export to edgewire
 -max  nnnn    Maximum latency on data to be sent is this number of seconds (def=18000 5 hours)
 </PRE></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.lang.Thread</h3>
<code>java.lang.Thread.State, java.lang.Thread.UncaughtExceptionHandler</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.lang.Thread</h3>
<code>MAX_PRIORITY, MIN_PRIORITY, NORM_PRIORITY</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#EWExportSocket-java.lang.String-java.lang.String-gov.usgs.anss.ewexport.EWExport-">EWExportSocket</a></span>(java.lang.String&nbsp;argline,
              java.lang.String&nbsp;tg,
              <a href="../../../../gov/usgs/anss/ewexport/EWExport.html" title="class in gov.usgs.anss.ewexport">EWExport</a>&nbsp;parent)</code>
<div class="block">Create a EW socket - whether it is a server or client (normal) style is determined by the command line</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#checkBlock-gov.usgs.anss.edgeoutput.TraceBuf-int-">checkBlock</a></span>(<a href="../../../../gov/usgs/anss/edgeoutput/TraceBuf.html" title="class in gov.usgs.anss.edgeoutput">TraceBuf</a>&nbsp;ms,
          int&nbsp;seq)</code>
<div class="block">check on one block for processing
  Return true if this block was processed or discarded.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#checkInorder-gov.usgs.anss.edgeoutput.TraceBuf-int-boolean-">checkInorder</a></span>(<a href="../../../../gov/usgs/anss/edgeoutput/TraceBuf.html" title="class in gov.usgs.anss.edgeoutput">TraceBuf</a>&nbsp;tb,
            int&nbsp;seq,
            boolean&nbsp;update)</code>
<div class="block">This checks to see if a packet would pass the current inorder test.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#getArgline--">getArgline</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#getBytesIn--">getBytesIn</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#getBytesOut--">getBytesOut</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#getConsoleOutput--">getConsoleOutput</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#getLastSeq--">getLastSeq</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#getMonitorString--">getMonitorString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#getStatusBytesOut--">getStatusBytesOut</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#getStatusString--">getStatusString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#getTag--">getTag</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#isCatchingUp--">isCatchingUp</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#isRunning--">isRunning</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#logStatus-int-">logStatus</a></span>(int&nbsp;npack)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#newSocket-java.net.Socket-">newSocket</a></span>(java.net.Socket&nbsp;ss)</code>
<div class="block">set a new socket to receive from.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#readChanList--">readChanList</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#readState--">readState</a></span>()</code>
<div class="block">read in the state file.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#resetMaxused--">resetMaxused</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#run--">run</a></span>()</code>
<div class="block">This thread only runs in client mode.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#setArgs-java.lang.String-">setArgs</a></span>(java.lang.String&nbsp;argline)</code>
<div class="block">This routine parses a command line and does the defaults for command line parameters</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#setDbgDataExport-java.lang.String-">setDbgDataExport</a></span>(java.lang.String&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#setDebug-boolean-">setDebug</a></span>(boolean&nbsp;t)</code>&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#terminate--">terminate</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/ewexport/EWExportSocket.html#writeState-boolean-">writeState</a></span>(boolean&nbsp;log)</code>
<div class="block">write out the channel state file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Thread</h3>
<code>activeCount, checkAccess, clone, countStackFrames, currentThread, destroy, dumpStack, enumerate, getAllStackTraces, getContextClassLoader, getDefaultUncaughtExceptionHandler, getId, getName, getPriority, getStackTrace, getState, getThreadGroup, getUncaughtExceptionHandler, holdsLock, interrupt, interrupted, isAlive, isDaemon, isInterrupted, join, join, join, resume, setContextClassLoader, setDaemon, setDefaultUncaughtExceptionHandler, setName, setPriority, setUncaughtExceptionHandler, sleep, sleep, start, stop, stop, suspend, yield</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="EWExportSocket-java.lang.String-java.lang.String-gov.usgs.anss.ewexport.EWExport-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EWExportSocket</h4>
<pre>public&nbsp;EWExportSocket(java.lang.String&nbsp;argline,
                      java.lang.String&nbsp;tg,
                      <a href="../../../../gov/usgs/anss/ewexport/EWExport.html" title="class in gov.usgs.anss.ewexport">EWExport</a>&nbsp;parent)</pre>
<div class="block">Create a EW socket - whether it is a server or client (normal) style is determined by the command line</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>argline</code> - The argline as documented above</dd>
<dd><code>tg</code> - The tag to use on output</dd>
<dd><code>parent</code> - The parent EdgeThread to use for logging.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="resetMaxused--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetMaxused</h4>
<pre>public&nbsp;void&nbsp;resetMaxused()</pre>
</li>
</ul>
<a name="getLastSeq--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastSeq</h4>
<pre>public&nbsp;int&nbsp;getLastSeq()</pre>
</li>
</ul>
<a name="getTag--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTag</h4>
<pre>public&nbsp;java.lang.String&nbsp;getTag()</pre>
</li>
</ul>
<a name="getArgline--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getArgline</h4>
<pre>public&nbsp;java.lang.String&nbsp;getArgline()</pre>
</li>
</ul>
<a name="setDbgDataExport-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDbgDataExport</h4>
<pre>public static&nbsp;void&nbsp;setDbgDataExport(java.lang.String&nbsp;s)</pre>
</li>
</ul>
<a name="isRunning--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRunning</h4>
<pre>public&nbsp;boolean&nbsp;isRunning()</pre>
</li>
</ul>
<a name="isCatchingUp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCatchingUp</h4>
<pre>public&nbsp;boolean&nbsp;isCatchingUp()</pre>
</li>
</ul>
<a name="getStatusBytesOut--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatusBytesOut</h4>
<pre>public&nbsp;long&nbsp;getStatusBytesOut()</pre>
</li>
</ul>
<a name="checkInorder-gov.usgs.anss.edgeoutput.TraceBuf-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkInorder</h4>
<pre>public&nbsp;int&nbsp;checkInorder(<a href="../../../../gov/usgs/anss/edgeoutput/TraceBuf.html" title="class in gov.usgs.anss.edgeoutput">TraceBuf</a>&nbsp;tb,
                        int&nbsp;seq,
                        boolean&nbsp;update)</pre>
<div class="block">This checks to see if a packet would pass the current inorder test.  Note : the
 lastTime stored in the inorder class is set by actually sending data to the IMPORT.  So
 the TraceBufs currently bufferred to go out are not included.  There are two ways to use
 this, if update is true, then he caller needs to have just sent the data to the IMPORT.
 If update is false, callers can test a tracebuf to see if it should be rejected because it
 is already to old to use.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tb</code> - The trace buf to test to see if it can be sent.</dd>
<dd><code>seq</code> - The sequence number of that tracebuf from the input queue</dd>
<dd><code>update</code> - If true, this test will update the next time available and sequency number in the InorderChannel object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>1=if packet should go, 0 if packet is no on channel list, -1 if packet is out of order</dd>
</dl>
</li>
</ul>
<a name="getStatusString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatusString</h4>
<pre>public&nbsp;java.lang.String&nbsp;getStatusString()</pre>
</li>
</ul>
<a name="getBytesIn--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBytesIn</h4>
<pre>public&nbsp;long&nbsp;getBytesIn()</pre>
</li>
</ul>
<a name="getBytesOut--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBytesOut</h4>
<pre>public&nbsp;long&nbsp;getBytesOut()</pre>
</li>
</ul>
<a name="getMonitorString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMonitorString</h4>
<pre>public&nbsp;java.lang.String&nbsp;getMonitorString()</pre>
</li>
</ul>
<a name="getConsoleOutput--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConsoleOutput</h4>
<pre>public&nbsp;java.lang.String&nbsp;getConsoleOutput()</pre>
</li>
</ul>
<a name="terminate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre>public&nbsp;void&nbsp;terminate()</pre>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Thread</code></dd>
</dl>
</li>
</ul>
<a name="setDebug-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDebug</h4>
<pre>public&nbsp;void&nbsp;setDebug(boolean&nbsp;t)</pre>
</li>
</ul>
<a name="checkBlock-gov.usgs.anss.edgeoutput.TraceBuf-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkBlock</h4>
<pre>public&nbsp;boolean&nbsp;checkBlock(<a href="../../../../gov/usgs/anss/edgeoutput/TraceBuf.html" title="class in gov.usgs.anss.edgeoutput">TraceBuf</a>&nbsp;ms,
                          int&nbsp;seq)</pre>
<div class="block">check on one block for processing
  Return true if this block was processed or discarded.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ms</code> - The trace buf</dd>
<dd><code>seq</code> - Sequence</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>If it was processed</dd>
</dl>
</li>
</ul>
<a name="newSocket-java.net.Socket-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newSocket</h4>
<pre>public&nbsp;void&nbsp;newSocket(java.net.Socket&nbsp;ss)</pre>
<div class="block">set a new socket to receive from.  This is only called when IMPORT is in server (passive) mode</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ss</code> - The socket to use going forward</dd>
</dl>
</li>
</ul>
<a name="setArgs-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setArgs</h4>
<pre>public final&nbsp;void&nbsp;setArgs(java.lang.String&nbsp;argline)</pre>
<div class="block">This routine parses a command line and does the defaults for command line parameters</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>argline</code> - </dd>
</dl>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">This thread only runs in client mode.  It makes sure that there is an open socket to the
 client and if it finds it down, it remakes it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>run</code>&nbsp;in class&nbsp;<code>java.lang.Thread</code></dd>
</dl>
</li>
</ul>
<a name="readChanList--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readChanList</h4>
<pre>public final&nbsp;boolean&nbsp;readChanList()</pre>
</li>
</ul>
<a name="readState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readState</h4>
<pre>public final&nbsp;boolean&nbsp;readState()</pre>
<div class="block">read in the state file.  This file looks like :
 <PRE>
 lastSequenec   The last sequence processed by this thread
 <repeat each 24 bytes for number of channels>
 Channel (12 char)
 ms (time in ms since epoch as a long)
 lastseq (Last sequence number sent for this channel int)

 </PRE></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="writeState-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeState</h4>
<pre>public&nbsp;boolean&nbsp;writeState(boolean&nbsp;log)</pre>
<div class="block">write out the channel state file.  For format of file see readState() above.
 The next startup lastSeq is the maximum of all of the sequences last sent for each channel,
 that is it is the biggest sequence actually sent to the other end as all sequences are
 always queued in order</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>log</code> - if true, log this</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true, if the file was written.</dd>
</dl>
</li>
</ul>
<a name="logStatus-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>logStatus</h4>
<pre>public&nbsp;void&nbsp;logStatus(int&nbsp;npack)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/ewexport/EWExportOutputer.html" title="class in gov.usgs.anss.ewexport"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/ewexport/TraceBufQueue.html" title="class in gov.usgs.anss.ewexport"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/ewexport/EWExportSocket.html" target="_top">Frames</a></li>
<li><a href="EWExportSocket.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.java.lang.Thread">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
