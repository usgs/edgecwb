<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Thu Mar 08 04:04:19 MST 2018 -->
<title>FKArray</title>
<meta name="date" content="2018-03-08">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FKArray";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":9,"i14":10,"i15":10,"i16":10,"i17":10,"i18":9,"i19":10,"i20":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/fk/FK.html" title="class in gov.usgs.anss.fk"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/fk/FKChannel.html" title="class in gov.usgs.anss.fk"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/fk/FKArray.html" target="_top">Frames</a></li>
<li><a href="FKArray.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gov.usgs.anss.fk</div>
<h2 title="Class FKArray" class="title">Class FKArray</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>gov.usgs.anss.fk.FKArray</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">FKArray</span>
extends java.lang.Object</pre>
<div class="block">FKArray is the main computational routine for the FK calculations.  It is called from  a FK
 thread which is started by the FKManager mainly by invoking the getTimeseries() method which returns
 the number of channels successfully obtained and does the beam calculation if the number obtained is
 as large as the "ngood" from the caller.  See the method documentation for more details.
 <br>
 This class creates the FKParams object where the configuration data is kept, creates the FKChannel object
 used in the calculations, and creates and populates the FKResults object used to pass
 around the calculation outputs.
 <p>
 It can be configurated to run a FilterPicker when the beam shows a detection in order to build a
 JSON pick including the beam back azimuth and other beam parameters.
 <p>
 This object is normally logged through the FK object that created it.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#earlyLimit">earlyLimit</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#pi">pi</a></span></code>
<div class="block">used in the sin and cos calculations</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#torad">torad</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#twopi">twopi</a></span></code>
<div class="block">used in the sin and cos calculations</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#FKArray-java.lang.String-java.lang.String-gov.usgs.anss.edgethread.EdgeThread-">FKArray</a></span>(java.lang.String&nbsp;argline,
       java.lang.String&nbsp;tag,
       <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)</code>
<div class="block">This constructor creates the FKParams object and populates it, 
 creates the FKResult object for storing results :<br>
 1) Reads in the configured stations file and using parseSta, and addChan() creates the channels-FKChannel list
 2) Calls calcRelativeDistance() on each channel to set the relative distance parameters in X, Y,<br>
 3) Finds the maximum relative distance,<br>
 4) in FKParams sets the rate, beamlen (fft len), beamwindow(secs), overlap<br>
 5) Builds the list of FKSeismograms (one per channel)<br>
 6) Calculates the number of enabled channels.<br>
 <br>
 After creation the user calls getTimeSeries(time, npts) advancing time as needed.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#cos-double-">cos</a></span>(double&nbsp;a)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#dzero-double:A-int-">dzero</a></span>(double[]&nbsp;d,
     int&nbsp;len)</code>
<div class="block">This routine zeros out a double array of the given length</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../gov/usgs/anss/fk/FKResult.html" title="class in gov.usgs.anss.fk">FKResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#fkCompute-java.util.ArrayList-gov.usgs.anss.fk.FKParams-gov.usgs.anss.fk.FKResult-">fkCompute</a></span>(java.util.ArrayList&lt;<a href="../../../../gov/usgs/anss/fk/FKSeismogram.html" title="class in gov.usgs.anss.fk">FKSeismogram</a>&gt;&nbsp;s,
         <a href="../../../../gov/usgs/anss/fk/FKParams.html" title="class in gov.usgs.anss.fk">FKParams</a>&nbsp;fkparms,
         <a href="../../../../gov/usgs/anss/fk/FKResult.html" title="class in gov.usgs.anss.fk">FKResult</a>&nbsp;fkresults)</code>
<div class="block">Compute the FK grid</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#formBeamTimeDomain-double:A-">formBeamTimeDomain</a></span>(double[]&nbsp;beam)</code>
<div class="block">Given an array of seismograms and FK results, compute the time domain beam.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#getBeam--">getBeam</a></span>()</code>
<div class="block">get double array with the beam computed from the method in the configuration</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../../../gov/usgs/anss/fk/FKChannel.html" title="class in gov.usgs.anss.fk">FKChannel</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#getChannelList--">getChannelList</a></span>()</code>
<div class="block">Get the array list of FK channels</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#getChannelTimeSeries-int-java.util.GregorianCalendar-int-int:A-">getChannelTimeSeries</a></span>(int&nbsp;ich,
                    java.util.GregorianCalendar&nbsp;g,
                    int&nbsp;npts,
                    int[]&nbsp;d)</code>
<div class="block">Get a single section of time series from the ith channels</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../gov/usgs/anss/fk/FKParams.html" title="class in gov.usgs.anss.fk">FKParams</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#getFKParams--">getFKParams</a></span>()</code>
<div class="block">Return the FKParams object which contains most of the configuration info</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../gov/usgs/anss/fk/FKResult.html" title="class in gov.usgs.anss.fk">FKResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#getFKResult--">getFKResult</a></span>()</code>
<div class="block">Return the FKResult object from the last call to getTimeSeries().</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#getNActive--">getNActive</a></span>()</code>
<div class="block">Return number of active channels in the beam - the active ones configed</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#getRate--">getRate</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../gov/usgs/anss/fk/FKChannel.html" title="class in gov.usgs.anss.fk">FKChannel</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#getRef--">getRef</a></span>()</code>
<div class="block">return an FKChannel which is for the reference station/location</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#getTimeseries-java.util.GregorianCalendar-int-int-">getTimeseries</a></span>(java.util.GregorianCalendar&nbsp;t,
             int&nbsp;npts,
             int&nbsp;nchanOK)</code>
<div class="block">Reads in the time series, and if more the 70% of the channels are available for
 the entire interval from time gtmp, the FFTs are done and the FK matrix formed according
 to the configuration.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">For manual runs you should include a -gtmp yyyy/mm/dd-hh:mm:ss and -s station.file.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#prt-java.lang.String-">prt</a></span>(java.lang.String&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#prt-java.lang.StringBuilder-">prt</a></span>(java.lang.StringBuilder&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#prta-java.lang.String-">prta</a></span>(java.lang.String&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#prta-java.lang.StringBuilder-">prta</a></span>(java.lang.StringBuilder&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#sin-double-">sin</a></span>(double&nbsp;a)</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>java.lang.StringBuilder</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/fk/FKArray.html#toStringBuilder-java.lang.StringBuilder-">toStringBuilder</a></span>(java.lang.StringBuilder&nbsp;tmp)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="pi">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pi</h4>
<pre>public static final&nbsp;double pi</pre>
<div class="block">used in the sin and cos calculations</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#gov.usgs.anss.fk.FKArray.pi">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="torad">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>torad</h4>
<pre>public static final&nbsp;double torad</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#gov.usgs.anss.fk.FKArray.torad">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="twopi">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>twopi</h4>
<pre>public static final&nbsp;double twopi</pre>
<div class="block">used in the sin and cos calculations</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#gov.usgs.anss.fk.FKArray.twopi">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="earlyLimit">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>earlyLimit</h4>
<pre>public final&nbsp;long earlyLimit</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FKArray-java.lang.String-java.lang.String-gov.usgs.anss.edgethread.EdgeThread-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FKArray</h4>
<pre>public&nbsp;FKArray(java.lang.String&nbsp;argline,
               java.lang.String&nbsp;tag,
               <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)</pre>
<div class="block">This constructor creates the FKParams object and populates it, 
 creates the FKResult object for storing results :<br>
 1) Reads in the configured stations file and using parseSta, and addChan() creates the channels-FKChannel list
 2) Calls calcRelativeDistance() on each channel to set the relative distance parameters in X, Y,<br>
 3) Finds the maximum relative distance,<br>
 4) in FKParams sets the rate, beamlen (fft len), beamwindow(secs), overlap<br>
 5) Builds the list of FKSeismograms (one per channel)<br>
 6) Calculates the number of enabled channels.<br>
 <br>
 After creation the user calls getTimeSeries(time, npts) advancing time as needed.  The one configured
 beam method can be obtained with getBeam() and the time etc is available from 
 getFKParams(), and other beam results from getFKResults().</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>argline</code> - Argline with parameters</dd>
<dd><code>tag</code> - Tag to use in logging</dd>
<dd><code>parent</code> - EdgeThread through which logging is done</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="toStringBuilder-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toStringBuilder</h4>
<pre>public final&nbsp;java.lang.StringBuilder&nbsp;toStringBuilder(java.lang.StringBuilder&nbsp;tmp)</pre>
</li>
</ul>
<a name="getChannelList--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChannelList</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../../../gov/usgs/anss/fk/FKChannel.html" title="class in gov.usgs.anss.fk">FKChannel</a>&gt;&nbsp;getChannelList()</pre>
<div class="block">Get the array list of FK channels</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of FKChannels</dd>
</dl>
</li>
</ul>
<a name="prt-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prt</h4>
<pre>protected&nbsp;void&nbsp;prt(java.lang.String&nbsp;s)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - A string to print to the log</dd>
</dl>
</li>
</ul>
<a name="prta-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prta</h4>
<pre>protected final&nbsp;void&nbsp;prta(java.lang.String&nbsp;s)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - A String to print in the log preceded by the current time</dd>
</dl>
</li>
</ul>
<a name="prt-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prt</h4>
<pre>protected&nbsp;void&nbsp;prt(java.lang.StringBuilder&nbsp;s)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - A string to print to the log</dd>
</dl>
</li>
</ul>
<a name="prta-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prta</h4>
<pre>protected final&nbsp;void&nbsp;prta(java.lang.StringBuilder&nbsp;s)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - A String to print in the log preceded by the current time</dd>
</dl>
</li>
</ul>
<a name="dzero-double:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dzero</h4>
<pre>public static&nbsp;void&nbsp;dzero(double[]&nbsp;d,
                         int&nbsp;len)</pre>
<div class="block">This routine zeros out a double array of the given length</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>d</code> - User array to zero</dd>
<dd><code>len</code> - Length of d to zero</dd>
</dl>
</li>
</ul>
<a name="getRef--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRef</h4>
<pre>public&nbsp;<a href="../../../../gov/usgs/anss/fk/FKChannel.html" title="class in gov.usgs.anss.fk">FKChannel</a>&nbsp;getRef()</pre>
<div class="block">return an FKChannel which is for the reference station/location</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The reference FKChannel</dd>
</dl>
</li>
</ul>
<a name="getRate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRate</h4>
<pre>public&nbsp;double&nbsp;getRate()</pre>
</li>
</ul>
<a name="getNActive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNActive</h4>
<pre>public&nbsp;int&nbsp;getNActive()</pre>
<div class="block">Return number of active channels in the beam - the active ones configed</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Number of active channels in configuration</dd>
</dl>
</li>
</ul>
<a name="getBeam--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBeam</h4>
<pre>public&nbsp;double[]&nbsp;getBeam()</pre>
<div class="block">get double array with the beam computed from the method in the configuration</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the beam array</dd>
</dl>
</li>
</ul>
<a name="getFKParams--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFKParams</h4>
<pre>public&nbsp;<a href="../../../../gov/usgs/anss/fk/FKParams.html" title="class in gov.usgs.anss.fk">FKParams</a>&nbsp;getFKParams()</pre>
<div class="block">Return the FKParams object which contains most of the configuration info</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The FKParams</dd>
</dl>
</li>
</ul>
<a name="getFKResult--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFKResult</h4>
<pre>public&nbsp;<a href="../../../../gov/usgs/anss/fk/FKResult.html" title="class in gov.usgs.anss.fk">FKResult</a>&nbsp;getFKResult()</pre>
<div class="block">Return the FKResult object from the last call to getTimeSeries().  This contains the
 power grid, azimuth.  From the statisitics it contains the 3 greatest powers and their sxmax, symax values,
 the totalpower in the grid, the mean and standard deviation over all power cells.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the FKResults object</dd>
</dl>
</li>
</ul>
<a name="getTimeseries-java.util.GregorianCalendar-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeseries</h4>
<pre>public&nbsp;int&nbsp;getTimeseries(java.util.GregorianCalendar&nbsp;t,
                         int&nbsp;npts,
                         int&nbsp;nchanOK)
                  throws java.io.IOException</pre>
<div class="block">Reads in the time series, and if more the 70% of the channels are available for
 the entire interval from time gtmp, the FFTs are done and the FK matrix formed according
 to the configuration.  The user gets the number of channels used to form the 
 FK which will never be below 70% of the total channels configured.  If the returned
 number of channels is zero, then nothing was done because the time series is either 
 not present or it has gaps in it.
 <p>  
 Since there are many ways to form a beam from these results, the user can use the
 FKResult structure to form a beam.  The common ways we form beams at the USGS
 are available from the various formBeam????() methods in this routine.  The configured
 beam method is formed automatically and can be accessed via getBeam() after calling
 this routine.
 <p>
 When the channels are loaded (and enough channels contain the whole time series), then
 the FFTs are computed on all of the FKSeismograms.  At this point the FKTimeSeries
 only contains the transforms and the original data is lost.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - The Gregorian time of the first sample desired</dd>
<dd><code>npts</code> - The number of points desired.</dd>
<dd><code>nchanOK</code> - Minimum number of channels complete to actually compute the FK</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Number of channel successful computed, if zero, data not yet present, if less than 0 number of channels is too small</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if opening a QueryRing does</dd>
</dl>
</li>
</ul>
<a name="formBeamTimeDomain-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>formBeamTimeDomain</h4>
<pre>public&nbsp;void&nbsp;formBeamTimeDomain(double[]&nbsp;beam)</pre>
<div class="block">Given an array of seismograms and FK results, compute the time domain beam.  This is the code
 to form the beam in the time domain rather than from the frequency domains.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>beam</code> - Array to put resulting beam</dd>
</dl>
</li>
</ul>
<a name="getChannelTimeSeries-int-java.util.GregorianCalendar-int-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChannelTimeSeries</h4>
<pre>public&nbsp;boolean&nbsp;getChannelTimeSeries(int&nbsp;ich,
                                    java.util.GregorianCalendar&nbsp;g,
                                    int&nbsp;npts,
                                    int[]&nbsp;d)
                             throws java.io.IOException</pre>
<div class="block">Get a single section of time series from the ith channels</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ich</code> - The channel index for the channels desired</dd>
<dd><code>g</code> - The time as a gregorian Calendar</dd>
<dd><code>npts</code> - The number of points to return</dd>
<dd><code>d</code> - An array of ints to receive the answer</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if the data has no gaps and is complete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="fkCompute-java.util.ArrayList-gov.usgs.anss.fk.FKParams-gov.usgs.anss.fk.FKResult-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fkCompute</h4>
<pre>public&nbsp;<a href="../../../../gov/usgs/anss/fk/FKResult.html" title="class in gov.usgs.anss.fk">FKResult</a>&nbsp;fkCompute(java.util.ArrayList&lt;<a href="../../../../gov/usgs/anss/fk/FKSeismogram.html" title="class in gov.usgs.anss.fk">FKSeismogram</a>&gt;&nbsp;s,
                          <a href="../../../../gov/usgs/anss/fk/FKParams.html" title="class in gov.usgs.anss.fk">FKParams</a>&nbsp;fkparms,
                          <a href="../../../../gov/usgs/anss/fk/FKResult.html" title="class in gov.usgs.anss.fk">FKResult</a>&nbsp;fkresults)</pre>
<div class="block">Compute the FK grid</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - ArrayList of seismograms</dd>
<dd><code>fkparms</code> - The configuration object</dd>
<dd><code>fkresults</code> - An FKResult object to return results in</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>results are returned to the object FKResult</dd>
</dl>
</li>
</ul>
<a name="sin-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sin</h4>
<pre>public static&nbsp;double&nbsp;sin(double&nbsp;a)</pre>
</li>
</ul>
<a name="cos-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cos</h4>
<pre>public static&nbsp;double&nbsp;cos(double&nbsp;a)</pre>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<div class="block">For manual runs you should include a -gtmp yyyy/mm/dd-hh:mm:ss and -s station.file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - The arguments
 <PRE>
 switch   args              Description 
 -gtmp   yyyy/mm/dd-hh:mm:ss Start at this time - default = real time
 -log     filename          Use this as the log file name -default fkarray or the TAG if present
 -config  filename          Use file file name to find the array configuration
 -a       TAG               Use this TAG from the config file. This must be last on line.
 </PRE></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/fk/FK.html" title="class in gov.usgs.anss.fk"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/fk/FKChannel.html" title="class in gov.usgs.anss.fk"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/fk/FKArray.html" target="_top">Frames</a></li>
<li><a href="FKArray.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
