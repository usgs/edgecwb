<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Tue Dec 18 04:04:33 MST 2018 -->
<title>IndexFile</title>
<meta name="date" content="2018-12-18">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IndexFile";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":9,"i3":10,"i4":10,"i5":9,"i6":9,"i7":9,"i8":10,"i9":10,"i10":9,"i11":10,"i12":10,"i13":10,"i14":9,"i15":10,"i16":9,"i17":9,"i18":9,"i19":9,"i20":10,"i21":9,"i22":10,"i23":10,"i24":10,"i25":9,"i26":9,"i27":9,"i28":10,"i29":10,"i30":9,"i31":9,"i32":9,"i33":9,"i34":9,"i35":10,"i36":10,"i37":10,"i38":9,"i39":9,"i40":10,"i41":9,"i42":9,"i43":10,"i44":10,"i45":9,"i46":10,"i47":9,"i48":9,"i49":9,"i50":9,"i51":10,"i52":10,"i53":9,"i54":10,"i55":10,"i56":10,"i57":10,"i58":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/edge/IndexBlockCheck.html" title="class in gov.usgs.anss.edge"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/edge/IndexFile.CloseThread.html" title="class in gov.usgs.anss.edge"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/edge/IndexFile.html" target="_top">Frames</a></li>
<li><a href="IndexFile.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gov.usgs.anss.edge</div>
<h2 title="Class IndexFile" class="title">Class IndexFile</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>gov.usgs.anss.edge.IndexFile</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Comparable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">IndexFile</span>
extends java.lang.Object
implements java.lang.Comparable</pre>
<div class="block">This class is the exclusive write manager of the .idx portion of the edge file. It is responsible
 for allocating master blocks and index blocks from its body and keeping the control portion and
 the master blocks up to date (index blocks themselves are written by others). This class also
 hands out extents in the "data" file and keeps the data file unused portion zeroed in from of the
 allocated blocks. It also has static fields representing the parsing of the edge*.prop file
 properties (npath, datapath?, nday?, extendsize, daysize)

 The control portion must be updated : 1) when a new extent is granted (so the next_extent
 variable is updated) 2) When a new Master block is allocated (so the mBlocks array is complete
 and the next_index is correct) 3) when a new index block is allocated (so the next index is
 complete)

 The master blocks are updated through the master block objects in mb[]. Basically everything is
 triggered by requests for more index blocks by the using routines.
 <pre>
 Control block :
 int length;          // size of the file int 512 byte blocks
 int nextextent;      // next block in .ms file to be allocated for a 64 block extent
 short next_index;    // the block number of the next unallocated block in the index
 short[] master_blocks;// The list of blocks in this file which are master blocks (250 max)

 Master Block:
  The physical form is :
 12 Character seedname
 short starting_index   // block number with the first index for this channel
 Short last_index block // block number of the last index for this channel
 ...
 repeat 32 times.

 Index Block :
 seedname 12 characters NNSSSSSCCCLL format
 int next_index;       Block number of index block chained after this one
 int time              last update time in seconds since 1970
 repeating part (30 times)
 int  starting_block   Block number in .ms file for this extent
 long bitmap           Each block in the extent is marked busy with a bit set here block 0 = bit 0, block1=bit 1
 short earliest_time   Seconds since beginning of day / 3.
 short latest_time     Seconds since beginiing of day / 3.
 ...
 repeat 30 times
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.CloseThread.html" title="class in gov.usgs.anss.edge">IndexFile.CloseThread</a></span></code>
<div class="block">closing can take quite some time, so put it in a thread to prevent slow downs</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.ZeroDataFile.html" title="class in gov.usgs.anss.edge">IndexFile.ZeroDataFile</a></span></code>
<div class="block">this inner class is a thread that keeps zeroing data blocks ahead of the next_extent pointer.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#DATA_MASK">DATA_MASK</a></span></code>
<div class="block">From edge*.prop the data directory submask YYYY_DDD shorted how ever wanted after the year</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#DATA_PATH">DATA_PATH</a></span></code>
<div class="block">From edge*.prop the NPATHS sized array of strings to the paths (datapath?)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#DEFAULT_EXTEND_BLOCKS">DEFAULT_EXTEND_BLOCKS</a></span></code>
<div class="block">From edge*.prop the default extend size in blks (extendsize)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#DEFAULT_LENGTH">DEFAULT_LENGTH</a></span></code>
<div class="block">From edge*.prop the default starting size of new files(daysize)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#MAX_MASTER_BLOCKS">MAX_MASTER_BLOCKS</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#NDAYS">NDAYS</a></span></code>
<div class="block">From edge*.prop the Total number of days represented by the paths - used in Edge Mode where
 each path gets a fixed number of days</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#NDAYS_PATH">NDAYS_PATH</a></span></code>
<div class="block">From edge*.prop the Number of days for each path - for CWB set [0] to a large number and others
 to zero (nday?)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#NPATHS">NPATHS</a></span></code>
<div class="block">From edge*.prop the Number of data paths (npath)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.lang.StringBuilder</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#paths">paths</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#ZERO_BUF_SIZE">ZERO_BUF_SIZE</a></span></code>
<div class="block">From edge_.prop the size of the zero buffer is the DEFAULT_EXTEND_BLOCKS in bytes</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#zerobuf">zerobuf</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#IndexFile-int-boolean-boolean-">IndexFile</a></span>(int&nbsp;jul,
         boolean&nbsp;init,
         boolean&nbsp;ro)</code>
<div class="block">Creates a new instance of IndexFile</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#IndexFile-java.lang.String-boolean-boolean-">IndexFile</a></span>(java.lang.String&nbsp;file,
         boolean&nbsp;init,
         boolean&nbsp;ro)</code>
<div class="block">Creates a new instance of IndexFile (normal used for read only access on non edge) The filename
 will be parsed to create a julian and any extension will be stripped off before calling
 openIndexFile().</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#IndexFile-java.lang.String-boolean-boolean-int-">IndexFile</a></span>(java.lang.String&nbsp;file,
         boolean&nbsp;init,
         boolean&nbsp;ro,
         int&nbsp;jul)</code>
<div class="block">Creates a new instance of IndexFile (normal used for read only access on non edge) The filename
 will be parsed to create a julian and any extension will be stripped off before calling
 openIndexFile().</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#IndexFile-java.lang.String-boolean-boolean-gov.usgs.anss.edge.RawDisk-gov.usgs.anss.edge.RawDisk-">IndexFile</a></span>(java.lang.String&nbsp;file,
         boolean&nbsp;init,
         boolean&nbsp;ro,
         <a href="../../../../gov/usgs/anss/edge/RawDisk.html" title="class in gov.usgs.anss.edge">RawDisk</a>&nbsp;rawidx,
         <a href="../../../../gov/usgs/anss/edge/RawDisk.html" title="class in gov.usgs.anss.edge">RawDisk</a>&nbsp;rawms)</code>
<div class="block">Creates a new instance of IndexFile (normal used for read only access on non edge) The filename
 will be parsed to create a julian and any extension will be stripped off before calling
 openIndexFile().</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.StringBuffer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#analyze-boolean-int-boolean-java.lang.String-boolean-">analyze</a></span>(boolean&nbsp;indexDetail,
       int&nbsp;readData,
       boolean&nbsp;errOnly,
       java.lang.String&nbsp;seedMask,
       boolean&nbsp;fixBrokenLinks)</code>
<div class="block">Analyze the given index file based on parameters given.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static java.lang.StringBuffer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#analyze-int-boolean-boolean-int-java.lang.String-boolean-">analyze</a></span>(int&nbsp;julian,
       boolean&nbsp;indexDetail,
       boolean&nbsp;errOnly,
       int&nbsp;readData,
       java.lang.String&nbsp;seedMask,
       boolean&nbsp;fixIndexLinks)</code>
<div class="block">Analyze the given index file based on parameters given.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static java.lang.StringBuffer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#analyze-java.lang.String-boolean-boolean-int-java.lang.String-boolean-">analyze</a></span>(java.lang.String&nbsp;filename,
       boolean&nbsp;indexDetail,
       boolean&nbsp;errOnly,
       int&nbsp;readData,
       java.lang.String&nbsp;seedMask,
       boolean&nbsp;fixIndexLinks)</code>
<div class="block">Analyze the given index file based on parameters given.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#clearMasterBlocks--">clearMasterBlocks</a></span>()</code>
<div class="block">for rebuilding an index, we need to forget the original master blocks and allocate anew!</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#close--">close</a></span>()</code>
<div class="block">Close this index file and clean up other resources.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#closeAll--">closeAll</a></span>()</code>
<div class="block">close open for write file</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#closeJulianLimit-int-int-">closeJulianLimit</a></span>(int&nbsp;limit,
                int&nbsp;msused)</code>
<div class="block">close any files which are not within the limit number of days and not used in some amount of
 time</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#closeStale-int-">closeStale</a></span>(int&nbsp;msec)</code>
<div class="block">close open for write file</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#compareTo-java.lang.Object-">compareTo</a></span>(java.lang.Object&nbsp;other)</code>
<div class="block">compares two file types orders them by julian day.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#crashClose--">crashClose</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#forceinit--">forceinit</a></span>()</code>
<div class="block">force a reload of the paths etch from the currrent properties</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getChannelIndex-java.lang.StringBuilder-">getChannelIndex</a></span>(java.lang.StringBuilder&nbsp;name)</code>
<div class="block">find the channel index in which this channel appears</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../../gov/usgs/anss/edge/RawDisk.html" title="class in gov.usgs.anss.edge">RawDisk</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getDataRawDisk--">getDataRawDisk</a></span>()</code>
<div class="block">get raw disk object for data file</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getFilename--">getFilename</a></span>()</code>
<div class="block">return the filename associated with this IndexFile</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getFilename-int-">getFilename</a></span>(int&nbsp;jul)</code>
<div class="block">get Filename for the given julian day on this node</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getFirstIndexBlock-java.lang.StringBuilder-">getFirstIndexBlock</a></span>(java.lang.StringBuilder&nbsp;name)</code>
<div class="block">Find the block number of the first index block for the given channel</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getFullStatus--">getFullStatus</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../gov/usgs/anss/edge/IndexFile.html" title="class in gov.usgs.anss.edge">IndexFile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getIndexFile-int-">getIndexFile</a></span>(int&nbsp;julian)</code>
<div class="block">get IndexFile associated with a given day, This routine enforces the open days rules and
 returns a pointer to "future.idx" or "past.idx" if the day is out of range</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getInstance--">getInstance</a></span>()</code>
<div class="block">Return the Instance of this EdgeMom (this is the Property "Node") This should be of the form
 n[#i] where n and i are small integers such that the length of n[#i] is no more than 4
 characters</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getInstanceNumber-java.lang.String-">getInstanceNumber</a></span>(java.lang.String&nbsp;nd)</code>
<div class="block">Return the instance number, that is the part of the Node on Instance following the #.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getJulian--">getJulian</a></span>()</code>
<div class="block">return the full julian day for this file</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getJulianFromFilename-java.lang.String-">getJulianFromFilename</a></span>(java.lang.String&nbsp;filename)</code>&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getLastIndexBlock-java.lang.StringBuilder-">getLastIndexBlock</a></span>(java.lang.StringBuilder&nbsp;name)</code>
<div class="block">Find the block number of the first index block for the given channel</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="../../../../gov/usgs/anss/edge/MasterBlock.html" title="class in gov.usgs.anss.edge">MasterBlock</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getMasterBlocks--">getMasterBlocks</a></span>()</code>
<div class="block">get the array of master block objects for this index file</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getMaxIndex--">getMaxIndex</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getMonitorString--">getMonitorString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getNdays--">getNdays</a></span>()</code>
<div class="block">return the number of days allowed in open day files</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getNdays-int-">getNdays</a></span>(int&nbsp;i)</code>
<div class="block">get a number of days for the indexed path</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getNewExtent--">getNewExtent</a></span>()</code>
<div class="block">Grant the next extent out to the user.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getNextIndex--">getNextIndex</a></span>()</code>
<div class="block">return next_index block number to assign</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getNode--">getNode</a></span>()</code>
<div class="block">This returns the computer node for adding to the file name, the first time it actually runs the
 uname -n and parses, it sets the static variable node and that will be returned on all
 successive calls.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getNodeNumber-java.lang.String-">getNodeNumber</a></span>(java.lang.String&nbsp;nd)</code>
<div class="block">Return the node number, that is the part of the Node on Instance prior to #.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getNPaths--">getNPaths</a></span>()</code>
<div class="block">return number of paths</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getPath-int-">getPath</a></span>(int&nbsp;i)</code>
<div class="block">return the requested path</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getPathString--">getPathString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code><a href="../../../../gov/usgs/anss/edge/RawDisk.html" title="class in gov.usgs.anss.edge">RawDisk</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getRawDisk--">getRawDisk</a></span>()</code>
<div class="block">get the rawdisk variable for using the index file</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getReadonly--">getReadonly</a></span>()</code>
<div class="block">return the read only flag</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#getTick--">getTick</a></span>()</code>
<div class="block">return the ticks counter in the zeroer.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#init--">init</a></span>()</code>
<div class="block">This does all of the one-time static set up, create tree, read properties, create zerobuf</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#isShuttingDown--">isShuttingDown</a></span>()</code>
<div class="block">return state of shutting down variable</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#listChannels--">listChannels</a></span>()</code>
<div class="block">create a one line per channel list</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">unit test main</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#makeMaskStub-int-int-java.lang.String-">makeMaskStub</a></span>(int&nbsp;year,
            int&nbsp;doy,
            java.lang.String&nbsp;mask)</code>&nbsp;</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#newIndexBlock-java.lang.StringBuilder-">newIndexBlock</a></span>(java.lang.StringBuilder&nbsp;name)</code>
<div class="block">allocate a new index block.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#newMasterBlock--">newMasterBlock</a></span>()</code>
<div class="block">allocate a new master block, auto updates the change ctl area</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#rearrangeDataMask--">rearrangeDataMask</a></span>()</code>
<div class="block">This routine reads in the edge.prop and runs it through the IndexFile.init() to insure that the
 datapaths, datamask, etc are setup.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#reReadMasterBlocks--">reReadMasterBlocks</a></span>()</code>
<div class="block">Cause the master blocks to be re-read.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#setDebug-boolean-">setDebug</a></span>(boolean&nbsp;t)</code>
<div class="block">set debug level</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#setDefaultLength-int-">setDefaultLength</a></span>(int&nbsp;l)</code>
<div class="block">set the default length of the data files in blocks</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#setFL-java.lang.String-">setFL</a></span>(java.lang.String&nbsp;s)</code>
<div class="block">set who has the file list mutex</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#setMaxFilesBeforePurge-int-">setMaxFilesBeforePurge</a></span>(int&nbsp;n)</code>&nbsp;</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#setMaxIndex-int-">setMaxIndex</a></span>(int&nbsp;i)</code>&nbsp;</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#setNextExtentOnly-int-">setNextExtentOnly</a></span>(int&nbsp;i)</code>
<div class="block">this is only used in RebuildIndex to force the next_extent to be set correctly</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#setNoZeroer-boolean-">setNoZeroer</a></span>(boolean&nbsp;t)</code>&nbsp;</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#setRawDisk-gov.usgs.anss.edge.RawDisk-">setRawDisk</a></span>(<a href="../../../../gov/usgs/anss/edge/RawDisk.html" title="class in gov.usgs.anss.edge">RawDisk</a>&nbsp;r)</code>
<div class="block">set the rawdisk variable for using the index file (used by things rebuilding indices mainly</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#setReadonly-boolean-">setReadonly</a></span>(boolean&nbsp;t)</code>&nbsp;</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#toString--">toString</a></span>()</code>
<div class="block">a string representing this index file</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>java.lang.StringBuilder</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#toStringBuilder-java.lang.StringBuilder-">toStringBuilder</a></span>(java.lang.StringBuilder&nbsp;tmp)</code>&nbsp;</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>java.lang.StringBuilder</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/edge/IndexFile.html#toStringFull--">toStringFull</a></span>()</code>
<div class="block">a string representing this index file</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_LENGTH</h4>
<pre>protected static&nbsp;int DEFAULT_LENGTH</pre>
<div class="block">From edge*.prop the default starting size of new files(daysize)</div>
</li>
</ul>
<a name="DEFAULT_EXTEND_BLOCKS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_EXTEND_BLOCKS</h4>
<pre>protected static&nbsp;int DEFAULT_EXTEND_BLOCKS</pre>
<div class="block">From edge*.prop the default extend size in blks (extendsize)</div>
</li>
</ul>
<a name="ZERO_BUF_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ZERO_BUF_SIZE</h4>
<pre>protected static&nbsp;int ZERO_BUF_SIZE</pre>
<div class="block">From edge_.prop the size of the zero buffer is the DEFAULT_EXTEND_BLOCKS in bytes</div>
</li>
</ul>
<a name="MAX_MASTER_BLOCKS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_MASTER_BLOCKS</h4>
<pre>public static final&nbsp;int MAX_MASTER_BLOCKS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#gov.usgs.anss.edge.IndexFile.MAX_MASTER_BLOCKS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NPATHS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NPATHS</h4>
<pre>protected static&nbsp;int NPATHS</pre>
<div class="block">From edge*.prop the Number of data paths (npath)</div>
</li>
</ul>
<a name="DATA_PATH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DATA_PATH</h4>
<pre>protected static&nbsp;java.lang.String[] DATA_PATH</pre>
<div class="block">From edge*.prop the NPATHS sized array of strings to the paths (datapath?)</div>
</li>
</ul>
<a name="NDAYS_PATH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NDAYS_PATH</h4>
<pre>protected static&nbsp;int[] NDAYS_PATH</pre>
<div class="block">From edge*.prop the Number of days for each path - for CWB set [0] to a large number and others
 to zero (nday?)</div>
</li>
</ul>
<a name="NDAYS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NDAYS</h4>
<pre>protected static&nbsp;int NDAYS</pre>
<div class="block">From edge*.prop the Total number of days represented by the paths - used in Edge Mode where
 each path gets a fixed number of days</div>
</li>
</ul>
<a name="DATA_MASK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DATA_MASK</h4>
<pre>protected static&nbsp;java.lang.String DATA_MASK</pre>
<div class="block">From edge*.prop the data directory submask YYYY_DDD shorted how ever wanted after the year</div>
</li>
</ul>
<a name="paths">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>paths</h4>
<pre>protected static&nbsp;java.lang.StringBuilder paths</pre>
</li>
</ul>
<a name="zerobuf">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>zerobuf</h4>
<pre>public static&nbsp;byte[] zerobuf</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="IndexFile-int-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>IndexFile</h4>
<pre>public&nbsp;IndexFile(int&nbsp;jul,
                 boolean&nbsp;init,
                 boolean&nbsp;ro)
          throws java.io.FileNotFoundException,
                 <a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a>,
                 java.io.IOException,
                 <a href="../../../../gov/usgs/anss/edge/EdgeFileDuplicateCreationException.html" title="class in gov.usgs.anss.edge">EdgeFileDuplicateCreationException</a></pre>
<div class="block">Creates a new instance of IndexFile</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jul</code> - The julian date of the desired file</dd>
<dd><code>init</code> - if true this is a new file</dd>
<dd><code>ro</code> - If true, this Index file can only read (disables all allocation functions)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - if init is false and file is not found!</dd>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileDuplicateCreationException.html" title="class in gov.usgs.anss.edge">EdgeFileDuplicateCreationException</a></code> - If init is true and file is readonly, non-sense!</dd>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a></code> - If init is true and file is readonly, non-sense!</dd>
<dd><code>java.io.IOException</code> - Generally related to reads and writes failing</dd>
</dl>
</li>
</ul>
<a name="IndexFile-java.lang.String-boolean-boolean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>IndexFile</h4>
<pre>public&nbsp;IndexFile(java.lang.String&nbsp;file,
                 boolean&nbsp;init,
                 boolean&nbsp;ro,
                 int&nbsp;jul)
          throws java.io.FileNotFoundException,
                 <a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a>,
                 java.io.IOException,
                 <a href="../../../../gov/usgs/anss/edge/EdgeFileDuplicateCreationException.html" title="class in gov.usgs.anss.edge">EdgeFileDuplicateCreationException</a></pre>
<div class="block">Creates a new instance of IndexFile (normal used for read only access on non edge) The filename
 will be parsed to create a julian and any extension will be stripped off before calling
 openIndexFile().</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - A absolute path to the index file to open</dd>
<dd><code>init</code> - if true this is a new file</dd>
<dd><code>ro</code> - If true, this Index file can only read (disables all allocation functions)</dd>
<dd><code>jul</code> - Force this file to be index as this julian data, this is a hack for use by
 RebuildIndex</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - if init is false and file is not found!</dd>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a></code> - If init is true and file is readonly, non-sense!</dd>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileDuplicateCreationException.html" title="class in gov.usgs.anss.edge">EdgeFileDuplicateCreationException</a></code> - If init is true and file is readonly, non-sense!</dd>
<dd><code>java.io.IOException</code> - Generally related to reads and writes failing</dd>
</dl>
</li>
</ul>
<a name="IndexFile-java.lang.String-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>IndexFile</h4>
<pre>public&nbsp;IndexFile(java.lang.String&nbsp;file,
                 boolean&nbsp;init,
                 boolean&nbsp;ro)
          throws java.io.FileNotFoundException,
                 <a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a>,
                 java.io.IOException,
                 <a href="../../../../gov/usgs/anss/edge/EdgeFileDuplicateCreationException.html" title="class in gov.usgs.anss.edge">EdgeFileDuplicateCreationException</a></pre>
<div class="block">Creates a new instance of IndexFile (normal used for read only access on non edge) The filename
 will be parsed to create a julian and any extension will be stripped off before calling
 openIndexFile().</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - A absolute path to the index file to open</dd>
<dd><code>init</code> - if true this is a new file</dd>
<dd><code>ro</code> - If true, this Index file can only read (disables all allocation functions)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - if init is false and file is not found!</dd>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a></code> - If init is true and file is readonly, non-sense!</dd>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileDuplicateCreationException.html" title="class in gov.usgs.anss.edge">EdgeFileDuplicateCreationException</a></code> - If init is true and file is readonly, non-sense!</dd>
<dd><code>java.io.IOException</code> - Generally related to reads and writes failing</dd>
</dl>
</li>
</ul>
<a name="IndexFile-java.lang.String-boolean-boolean-gov.usgs.anss.edge.RawDisk-gov.usgs.anss.edge.RawDisk-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>IndexFile</h4>
<pre>public&nbsp;IndexFile(java.lang.String&nbsp;file,
                 boolean&nbsp;init,
                 boolean&nbsp;ro,
                 <a href="../../../../gov/usgs/anss/edge/RawDisk.html" title="class in gov.usgs.anss.edge">RawDisk</a>&nbsp;rawidx,
                 <a href="../../../../gov/usgs/anss/edge/RawDisk.html" title="class in gov.usgs.anss.edge">RawDisk</a>&nbsp;rawms)
          throws java.io.FileNotFoundException,
                 <a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a>,
                 java.io.IOException,
                 <a href="../../../../gov/usgs/anss/edge/EdgeFileDuplicateCreationException.html" title="class in gov.usgs.anss.edge">EdgeFileDuplicateCreationException</a></pre>
<div class="block">Creates a new instance of IndexFile (normal used for read only access on non edge) The filename
 will be parsed to create a julian and any extension will be stripped off before calling
 openIndexFile().</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - A absolute path to the index file to open</dd>
<dd><code>init</code> - if true this is a new file</dd>
<dd><code>ro</code> - If true, this Index file can only read (disables all allocation functions)</dd>
<dd><code>rawidx</code> - User supplied raw disk to the index</dd>
<dd><code>rawms</code> - User supplied raw disk to the miniSeed file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - if init is false and file is not found!</dd>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a></code> - If init is true and file is readonly, non-sense!</dd>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileDuplicateCreationException.html" title="class in gov.usgs.anss.edge">EdgeFileDuplicateCreationException</a></code> - If init is true and file is readonly, non-sense!</dd>
<dd><code>java.io.IOException</code> - Generally related to reads and writes failing</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getMaxIndex--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxIndex</h4>
<pre>public&nbsp;int&nbsp;getMaxIndex()</pre>
</li>
</ul>
<a name="setMaxIndex-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxIndex</h4>
<pre>public&nbsp;void&nbsp;setMaxIndex(int&nbsp;i)</pre>
</li>
</ul>
<a name="setNoZeroer-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNoZeroer</h4>
<pre>public static&nbsp;void&nbsp;setNoZeroer(boolean&nbsp;t)</pre>
</li>
</ul>
<a name="getMonitorString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMonitorString</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getMonitorString()</pre>
</li>
</ul>
<a name="setMaxFilesBeforePurge-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxFilesBeforePurge</h4>
<pre>public static&nbsp;void&nbsp;setMaxFilesBeforePurge(int&nbsp;n)</pre>
</li>
</ul>
<a name="setNextExtentOnly-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNextExtentOnly</h4>
<pre>protected&nbsp;void&nbsp;setNextExtentOnly(int&nbsp;i)</pre>
<div class="block">this is only used in RebuildIndex to force the next_extent to be set correctly</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - </dd>
</dl>
</li>
</ul>
<a name="setDebug-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDebug</h4>
<pre>public static&nbsp;void&nbsp;setDebug(boolean&nbsp;t)</pre>
<div class="block">set debug level</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - The new debut state</dd>
</dl>
</li>
</ul>
<a name="setFL-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFL</h4>
<pre>public static&nbsp;void&nbsp;setFL(java.lang.String&nbsp;s)</pre>
<div class="block">set who has the file list mutex</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - a string identifying the holder of the mutex</dd>
</dl>
</li>
</ul>
<a name="getRawDisk--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRawDisk</h4>
<pre>public&nbsp;<a href="../../../../gov/usgs/anss/edge/RawDisk.html" title="class in gov.usgs.anss.edge">RawDisk</a>&nbsp;getRawDisk()</pre>
<div class="block">get the rawdisk variable for using the index file</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A RawDisk object for I/O to this index file</dd>
</dl>
</li>
</ul>
<a name="setRawDisk-gov.usgs.anss.edge.RawDisk-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRawDisk</h4>
<pre>public&nbsp;void&nbsp;setRawDisk(<a href="../../../../gov/usgs/anss/edge/RawDisk.html" title="class in gov.usgs.anss.edge">RawDisk</a>&nbsp;r)</pre>
<div class="block">set the rawdisk variable for using the index file (used by things rebuilding indices mainly</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>r</code> - The raw disk to set</dd>
</dl>
</li>
</ul>
<a name="getDataRawDisk--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataRawDisk</h4>
<pre>public&nbsp;<a href="../../../../gov/usgs/anss/edge/RawDisk.html" title="class in gov.usgs.anss.edge">RawDisk</a>&nbsp;getDataRawDisk()</pre>
<div class="block">get raw disk object for data file</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A RawDisk object for I/O to the data file associated with this index file</dd>
</dl>
</li>
</ul>
<a name="getNextIndex--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextIndex</h4>
<pre>public&nbsp;int&nbsp;getNextIndex()</pre>
<div class="block">return next_index block number to assign</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the next_index block number</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">a string representing this index file</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the filename/julian and ro=True/False</dd>
</dl>
</li>
</ul>
<a name="toStringBuilder-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toStringBuilder</h4>
<pre>public&nbsp;java.lang.StringBuilder&nbsp;toStringBuilder(java.lang.StringBuilder&nbsp;tmp)</pre>
</li>
</ul>
<a name="toStringFull--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toStringFull</h4>
<pre>public&nbsp;java.lang.StringBuilder&nbsp;toStringFull()</pre>
<div class="block">a string representing this index file</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the filename/julian and ro=True/False</dd>
</dl>
</li>
</ul>
<a name="getMasterBlocks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMasterBlocks</h4>
<pre>public&nbsp;<a href="../../../../gov/usgs/anss/edge/MasterBlock.html" title="class in gov.usgs.anss.edge">MasterBlock</a>[]&nbsp;getMasterBlocks()</pre>
<div class="block">get the array of master block objects for this index file</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Array of MasterBlock objects for this index file</dd>
</dl>
</li>
</ul>
<a name="getReadonly--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadonly</h4>
<pre>public&nbsp;boolean&nbsp;getReadonly()</pre>
<div class="block">return the read only flag</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if file was opened as readonly</dd>
</dl>
</li>
</ul>
<a name="setReadonly-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReadonly</h4>
<pre>public&nbsp;void&nbsp;setReadonly(boolean&nbsp;t)</pre>
</li>
</ul>
<a name="makeMaskStub-int-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeMaskStub</h4>
<pre>public static&nbsp;java.lang.String&nbsp;makeMaskStub(int&nbsp;year,
                                            int&nbsp;doy,
                                            java.lang.String&nbsp;mask)</pre>
</li>
</ul>
<a name="getJulianFromFilename-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJulianFromFilename</h4>
<pre>public static&nbsp;int&nbsp;getJulianFromFilename(java.lang.String&nbsp;filename)
                                 throws java.io.FileNotFoundException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code></dd>
</dl>
</li>
</ul>
<a name="isShuttingDown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isShuttingDown</h4>
<pre>public static&nbsp;boolean&nbsp;isShuttingDown()</pre>
<div class="block">return state of shutting down variable</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if in a shutting down state</dd>
</dl>
</li>
</ul>
<a name="getIndexFile-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexFile</h4>
<pre>public static&nbsp;<a href="../../../../gov/usgs/anss/edge/IndexFile.html" title="class in gov.usgs.anss.edge">IndexFile</a>&nbsp;getIndexFile(int&nbsp;julian)</pre>
<div class="block">get IndexFile associated with a given day, This routine enforces the open days rules and
 returns a pointer to "future.idx" or "past.idx" if the day is out of range</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>julian</code> - The julian date of the file desired.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The index file or null if none found</dd>
</dl>
</li>
</ul>
<a name="getPathString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPathString</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getPathString()</pre>
</li>
</ul>
<a name="getFilename-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFilename</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getFilename(int&nbsp;jul)</pre>
<div class="block">get Filename for the given julian day on this node</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jul</code> - The julian day desired</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>filename for the given julian day on this node</dd>
</dl>
</li>
</ul>
<a name="getFilename--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFilename</h4>
<pre>public&nbsp;java.lang.String&nbsp;getFilename()</pre>
<div class="block">return the filename associated with this IndexFile</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The filename string</dd>
</dl>
</li>
</ul>
<a name="getPath-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPath</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getPath(int&nbsp;i)</pre>
<div class="block">return the requested path</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - The index number of the path</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String with path name</dd>
</dl>
</li>
</ul>
<a name="getNdays--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNdays</h4>
<pre>public static&nbsp;int&nbsp;getNdays()</pre>
<div class="block">return the number of days allowed in open day files</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>THe number of days allowed to be open</dd>
</dl>
</li>
</ul>
<a name="getNPaths--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNPaths</h4>
<pre>public static&nbsp;int&nbsp;getNPaths()</pre>
<div class="block">return number of paths</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of paths</dd>
</dl>
</li>
</ul>
<a name="getNdays-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNdays</h4>
<pre>public static&nbsp;int&nbsp;getNdays(int&nbsp;i)</pre>
<div class="block">get a number of days for the indexed path</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - The index of the desired path</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of days on index path (zero if out of range)</dd>
</dl>
</li>
</ul>
<a name="forceinit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceinit</h4>
<pre>public static&nbsp;void&nbsp;forceinit()</pre>
<div class="block">force a reload of the paths etch from the currrent properties</div>
</li>
</ul>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public static&nbsp;void&nbsp;init()</pre>
<div class="block">This does all of the one-time static set up, create tree, read properties, create zerobuf</div>
</li>
</ul>
<a name="reReadMasterBlocks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reReadMasterBlocks</h4>
<pre>public&nbsp;void&nbsp;reReadMasterBlocks()
                        throws <a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a>,
                               java.io.IOException</pre>
<div class="block">Cause the master blocks to be re-read. Should only be done on readonly files.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a></code> - If one is generated by the reads</dd>
<dd><code>java.io.IOException</code> - If one is generated by the reads of the master blocks.</dd>
</dl>
</li>
</ul>
<a name="getInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getInstance()</pre>
<div class="block">Return the Instance of this EdgeMom (this is the Property "Node") This should be of the form
 n[#i] where n and i are small integers such that the length of n[#i] is no more than 4
 characters</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The up to 4 character instance</dd>
</dl>
</li>
</ul>
<a name="getInstanceNumber-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstanceNumber</h4>
<pre>public static&nbsp;int&nbsp;getInstanceNumber(java.lang.String&nbsp;nd)</pre>
<div class="block">Return the instance number, that is the part of the Node on Instance following the #. If no #,
 then the instance number is zero (also if it cannot be decoded)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nd</code> - The node string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The Instance number as a small integer value.</dd>
</dl>
</li>
</ul>
<a name="getNodeNumber-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNodeNumber</h4>
<pre>public static&nbsp;int&nbsp;getNodeNumber(java.lang.String&nbsp;nd)</pre>
<div class="block">Return the node number, that is the part of the Node on Instance prior to #. If no #, then the
 instance number is zero (also if it cannot be decoded)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nd</code> - THe node string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The Instance number as a small integer value.</dd>
</dl>
</li>
</ul>
<a name="getNode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNode</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getNode()</pre>
<div class="block">This returns the computer node for adding to the file name, the first time it actually runs the
 uname -n and parses, it sets the static variable node and that will be returned on all
 successive calls.
 <p>
 If the property "Node" is known, this is used as the node unless the current systemname ends
 with a number and this number does not match the number returned by the property. This case is
 special at the USGS in that it indicates an "instance" has been moved from its original server
 to a new one (hence the system number and node number no longer match). When this happens, the
 names of files need to be modified so they do not clash and overwrite on any CWBs being
 populated by Replication. When this situation occurs, the system number is increased by 50.
 <p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a tag with the edge node number (the string of digits a the end of the node)</dd>
</dl>
</li>
</ul>
<a name="newMasterBlock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newMasterBlock</h4>
<pre>public&nbsp;int&nbsp;newMasterBlock()
                   throws <a href="../../../../gov/usgs/anss/edge/EdgeFileCannotAllocateException.html" title="class in gov.usgs.anss.edge">EdgeFileCannotAllocateException</a>,
                          java.io.IOException,
                          <a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a></pre>
<div class="block">allocate a new master block, auto updates the change ctl area</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of the newly created MasterBlock</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileCannotAllocateException.html" title="class in gov.usgs.anss.edge">EdgeFileCannotAllocateException</a></code> - if the master block index is full (very rare as 250
 master blocks must all ready have been allocated</dd>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a></code> - If file was opend read only, you cannot get new blocks</dd>
<dd><code>java.io.IOException</code> - Thown if an IO fails to the .idx file</dd>
</dl>
</li>
</ul>
<a name="newIndexBlock-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newIndexBlock</h4>
<pre>public&nbsp;int&nbsp;newIndexBlock(java.lang.StringBuilder&nbsp;name)
                  throws java.io.IOException,
                         <a href="../../../../gov/usgs/anss/edge/EdgeFileCannotAllocateException.html" title="class in gov.usgs.anss.edge">EdgeFileCannotAllocateException</a>,
                         <a href="../../../../gov/usgs/anss/edge/IllegalSeednameException.html" title="class in gov.usgs.anss.edge">IllegalSeednameException</a>,
                         <a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a></pre>
<div class="block">allocate a new index block. The caller is then free to update this block without any further
 coordination. That is the caller is the sole writer of this block. All processing of the master
 blocks occurs through this call and the user need not worry about master blocks.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - A hopefully legal seed channel name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new index block</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - - usually something amiss with read/writing the file</dd>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a></code> - if opened readonly, new blocks cannot be allocated.</dd>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileCannotAllocateException.html" title="class in gov.usgs.anss.edge">EdgeFileCannotAllocateException</a></code> - - very rare, must be out of the 250 masterblock indices</dd>
<dd><code><a href="../../../../gov/usgs/anss/edge/IllegalSeednameException.html" title="class in gov.usgs.anss.edge">IllegalSeednameException</a></code> - If give channel name does not pass MasterBlock.chkSeedName()</dd>
</dl>
</li>
</ul>
<a name="getFirstIndexBlock-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstIndexBlock</h4>
<pre>public&nbsp;int&nbsp;getFirstIndexBlock(java.lang.StringBuilder&nbsp;name)
                       throws <a href="../../../../gov/usgs/anss/edge/IllegalSeednameException.html" title="class in gov.usgs.anss.edge">IllegalSeednameException</a></pre>
<div class="block">Find the block number of the first index block for the given channel</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - A hopefully legal seed channel name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the first index block</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edge/IllegalSeednameException.html" title="class in gov.usgs.anss.edge">IllegalSeednameException</a></code> - If give channel name does not pass MasterBlock.chkSeedName()</dd>
</dl>
</li>
</ul>
<a name="clearMasterBlocks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearMasterBlocks</h4>
<pre>public&nbsp;void&nbsp;clearMasterBlocks()
                       throws java.io.IOException,
                              <a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a></pre>
<div class="block">for rebuilding an index, we need to forget the original master blocks and allocate anew!</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a></code> - If updctl() throws one</dd>
<dd><code>java.io.IOException</code> - If updctl() throws one</dd>
</dl>
</li>
</ul>
<a name="getLastIndexBlock-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastIndexBlock</h4>
<pre>public&nbsp;int&nbsp;getLastIndexBlock(java.lang.StringBuilder&nbsp;name)
                      throws <a href="../../../../gov/usgs/anss/edge/IllegalSeednameException.html" title="class in gov.usgs.anss.edge">IllegalSeednameException</a></pre>
<div class="block">Find the block number of the first index block for the given channel</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - A hopefully legal seed channel name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the first index block</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/edge/IllegalSeednameException.html" title="class in gov.usgs.anss.edge">IllegalSeednameException</a></code> - If give channel name does not pass MasterBlock.chkSeedName()</dd>
</dl>
</li>
</ul>
<a name="getNewExtent--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNewExtent</h4>
<pre>public&nbsp;int&nbsp;getNewExtent()
                 throws java.io.IOException,
                        <a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a></pre>
<div class="block">Grant the next extent out to the user. Allow zero fill to run if blocked.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the block number starting the 64 block extent. The user is now the sole writer of the
 returned blocks.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - - IO errors on updating .idx file</dd>
<dd><code><a href="../../../../gov/usgs/anss/edge/EdgeFileReadOnlyException.html" title="class in gov.usgs.anss.edge">EdgeFileReadOnlyException</a></code> - If file was opened readonly, new blocks are not allowed.</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.io.IOException</pre>
<div class="block">Close this index file and clean up other resources.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If IOException while trying to close the file</dd>
</dl>
</li>
</ul>
<a name="crashClose--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>crashClose</h4>
<pre>public&nbsp;void&nbsp;crashClose()</pre>
</li>
</ul>
<a name="getChannelIndex-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChannelIndex</h4>
<pre>public&nbsp;int&nbsp;getChannelIndex(java.lang.StringBuilder&nbsp;name)</pre>
<div class="block">find the channel index in which this channel appears</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The seed channel name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The channel index</dd>
</dl>
</li>
</ul>
<a name="setDefaultLength-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultLength</h4>
<pre>public static&nbsp;void&nbsp;setDefaultLength(int&nbsp;l)</pre>
<div class="block">set the default length of the data files in blocks</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>l</code> - The length in blocks of the data files by default</dd>
</dl>
</li>
</ul>
<a name="listChannels--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listChannels</h4>
<pre>public&nbsp;java.lang.String&nbsp;listChannels()</pre>
<div class="block">create a one line per channel list</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a one line per channel listing of the master blocks</dd>
</dl>
</li>
</ul>
<a name="getTick--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTick</h4>
<pre>public&nbsp;long&nbsp;getTick()</pre>
<div class="block">return the ticks counter in the zeroer. This was used in unit test to slow down the main, but
 may not have another use.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of ticks counted by the zeroer (50 milli each).</dd>
</dl>
</li>
</ul>
<a name="getJulian--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJulian</h4>
<pre>public&nbsp;int&nbsp;getJulian()</pre>
<div class="block">return the full julian day for this file</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the julian day since long ago</dd>
</dl>
</li>
</ul>
<a name="getFullStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFullStatus</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getFullStatus()</pre>
</li>
</ul>
<a name="closeAll--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeAll</h4>
<pre>public static&nbsp;void&nbsp;closeAll()</pre>
<div class="block">close open for write file</div>
</li>
</ul>
<a name="closeStale-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeStale</h4>
<pre>public static&nbsp;int&nbsp;closeStale(int&nbsp;msec)</pre>
<div class="block">close open for write file</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msec</code> - number of milliseconds that need to have past since last use for file to be closed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of files closed</dd>
</dl>
</li>
</ul>
<a name="closeJulianLimit-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeJulianLimit</h4>
<pre>public static&nbsp;int&nbsp;closeJulianLimit(int&nbsp;limit,
                                   int&nbsp;msused)</pre>
<div class="block">close any files which are not within the limit number of days and not used in some amount of
 time</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>limit</code> - The limit of the number of days that can be open</dd>
<dd><code>msused</code> - The number of milliseconds that must have passed since the file was last used</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of files closed by this call</dd>
</dl>
</li>
</ul>
<a name="analyze-java.lang.String-boolean-boolean-int-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyze</h4>
<pre>public static&nbsp;java.lang.StringBuffer&nbsp;analyze(java.lang.String&nbsp;filename,
                                             boolean&nbsp;indexDetail,
                                             boolean&nbsp;errOnly,
                                             int&nbsp;readData,
                                             java.lang.String&nbsp;seedMask,
                                             boolean&nbsp;fixIndexLinks)</pre>
<div class="block">Analyze the given index file based on parameters given. This is used by msread to "dump"
 index/data about the file</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filename</code> - Filename of index file to read</dd>
<dd><code>indexDetail</code> - If true, dump details about the index at the extent level</dd>
<dd><code>errOnly</code> - Do everything, but only do output when variances are found</dd>
<dd><code>readData</code> - Analysis includes reading the data blocks and checking them as well</dd>
<dd><code>seedMask</code> - Do this only for seednames which match this regular expression</dd>
<dd><code>fixIndexLinks</code> - If true, fix any broken links in the index chain</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A StringBuffer with the analysis (might be pretty big).</dd>
</dl>
</li>
</ul>
<a name="analyze-int-boolean-boolean-int-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyze</h4>
<pre>public static&nbsp;java.lang.StringBuffer&nbsp;analyze(int&nbsp;julian,
                                             boolean&nbsp;indexDetail,
                                             boolean&nbsp;errOnly,
                                             int&nbsp;readData,
                                             java.lang.String&nbsp;seedMask,
                                             boolean&nbsp;fixIndexLinks)</pre>
<div class="block">Analyze the given index file based on parameters given. This is used by msread to "dump"
 index/data about the file</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>julian</code> - Julian day to use to build Filename of index file to read</dd>
<dd><code>indexDetail</code> - If true, dump details about the index at the extent level</dd>
<dd><code>errOnly</code> - Do everything, but only do output when variances are found</dd>
<dd><code>readData</code> - Analysis includes reading the data blocks and checking them as well</dd>
<dd><code>seedMask</code> - Do this only for seednames which match this regular expression</dd>
<dd><code>fixIndexLinks</code> - If true, fix an broken links in the index chain</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A StringBuffer with the analysis (might be pretty big).</dd>
</dl>
</li>
</ul>
<a name="analyze-boolean-int-boolean-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyze</h4>
<pre>public&nbsp;java.lang.StringBuffer&nbsp;analyze(boolean&nbsp;indexDetail,
                                      int&nbsp;readData,
                                      boolean&nbsp;errOnly,
                                      java.lang.String&nbsp;seedMask,
                                      boolean&nbsp;fixBrokenLinks)</pre>
<div class="block">Analyze the given index file based on parameters given. This is used by msread to "dump"
 index/data about the file</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>indexDetail</code> - If true, dump details about the index at the extent level</dd>
<dd><code>errOnly</code> - Do everything, but only do output when variances are found</dd>
<dd><code>readData</code> - Analysis includes reading the data blocks and checking them as well</dd>
<dd><code>seedMask</code> - Do this only for seednames which match this regular expression</dd>
<dd><code>fixBrokenLinks</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A StringBuffer with the analysis (might be pretty big).</dd>
</dl>
</li>
</ul>
<a name="compareTo-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compareTo</h4>
<pre>public&nbsp;int&nbsp;compareTo(java.lang.Object&nbsp;other)</pre>
<div class="block">compares two file types orders them by julian day.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>compareTo</code>&nbsp;in interface&nbsp;<code>java.lang.Comparable</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>other</code> - The IndexFile to compare against</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>-1 if this < other, 0 if equal, 1 if this is greater than</dd>
</dl>
</li>
</ul>
<a name="rearrangeDataMask--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rearrangeDataMask</h4>
<pre>public static&nbsp;void&nbsp;rearrangeDataMask()</pre>
<div class="block">This routine reads in the edge.prop and runs it through the IndexFile.init() to insure that the
 datapaths, datamask, etc are setup. It then scan each data path for data files and tries to put
 them in the datamask directory - that is - if it finds a $PATH/yyyy_ddd_n#i.ms file it tries to
 move it to $PATH/$DATAMASK/yyyy_ddd_n#i.ms along with the .idx file. It will create the
 datamask subdirectory on the path if it does not exist.
 <br>
 It will not move the file if a similarly named data or index file is already in the DATAMASK
 directory or if there is a permissions or other problem moving the file.</div>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<div class="block">unit test main</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - command line args</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/edge/IndexBlockCheck.html" title="class in gov.usgs.anss.edge"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/edge/IndexFile.CloseThread.html" title="class in gov.usgs.anss.edge"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/edge/IndexFile.html" target="_top">Frames</a></li>
<li><a href="IndexFile.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
