<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Tue Dec 18 04:04:50 MST 2018 -->
<title>DBConnectionThread</title>
<meta name="date" content="2018-12-18">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DBConnectionThread";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":9,"i4":10,"i5":9,"i6":10,"i7":9,"i8":10,"i9":9,"i10":9,"i11":9,"i12":9,"i13":9,"i14":9,"i15":9,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":9,"i22":9,"i23":10,"i24":9,"i25":9,"i26":10,"i27":9,"i28":10,"i29":10,"i30":9,"i31":9,"i32":10,"i33":10,"i34":10,"i35":10,"i36":9,"i37":10,"i38":9,"i39":9,"i40":9,"i41":10,"i42":10,"i43":9,"i44":10,"i45":10,"i46":10,"i47":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/db/DBAccess.html" title="class in gov.usgs.anss.db"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/db/DBContainer.html" title="class in gov.usgs.anss.db"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/db/DBConnectionThread.html" target="_top">Frames</a></li>
<li><a href="DBConnectionThread.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gov.usgs.anss.db</div>
<h2 title="Class DBConnectionThread" class="title">Class DBConnectionThread</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.lang.Thread</li>
<li>
<ul class="inheritance">
<li>gov.usgs.anss.db.DBConnectionThread</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../gov/usgs/anss/util/LoggerInterface.html" title="interface in gov.usgs.anss.util">LoggerInterface</a>, java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public final class <span class="typeNameLabel">DBConnectionThread</span>
extends java.lang.Thread
implements <a href="../../../../gov/usgs/anss/util/LoggerInterface.html" title="interface in gov.usgs.anss.util">LoggerInterface</a></pre>
<div class="block">DBConnectionThread.java This thread tries to keep a MySQL/Postgres/Oracle connection and
 statement open to a Database. If it is unsuccessful, it tries again every 30 seconds. When
 successful, it checks every second for the connection to close. If it does, it tries to reopen
 it. The dbacct can force a reopen with the reopen() method. As it is a thread a terminate()
 method is provided to allow the dbacct a way to kill this thing. Each such DBConnectionThread is
 named and it is an error to create another one of the same name. Each group of Threads using one
 of these should first use the static method getThread() to see if the named thread exists and use
 it before attempting to create a new one. In this way the returned object is always good for the
 life of the thread (though the connection may be down). If the dbacct always uses the
 executeUpdate() and executeQuery() methods to do the SQL statements, they are synchronized and
 can safely use the same object.
<p>
 The intended dbacct is one who needs to write to a Database from a thread and cannot tolerate the
 thread hanging up for long on DB stuff.

 Created on October 15, 2006, 4:05 PM</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.lang.Thread</h3>
<code>java.lang.Thread.State, java.lang.Thread.UncaughtExceptionHandler</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#connected">connected</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#noDB">noDB</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.lang.Thread</h3>
<code>MAX_PRIORITY, MIN_PRIORITY, NORM_PRIORITY</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#DBConnectionThread-java.lang.String-java.lang.String-java.lang.String-boolean-boolean-java.lang.String-java.io.PrintStream-">DBConnectionThread</a></span>(java.lang.String&nbsp;url,
                  java.lang.String&nbsp;connectTag,
                  java.lang.String&nbsp;db,
                  boolean&nbsp;write,
                  boolean&nbsp;ssl,
                  java.lang.String&nbsp;nm,
                  java.io.PrintStream&nbsp;out)</code>
<div class="block">This makes a connection using the defaults for host, catalog, vendor</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#DBConnectionThread-java.lang.String-java.lang.String-java.lang.String-java.lang.String-boolean-boolean-java.lang.String-java.lang.String-">DBConnectionThread</a></span>(java.lang.String&nbsp;h,
                  java.lang.String&nbsp;db,
                  java.lang.String&nbsp;u,
                  java.lang.String&nbsp;pw,
                  boolean&nbsp;write,
                  boolean&nbsp;ssl,
                  java.lang.String&nbsp;nm,
                  java.lang.String&nbsp;vend)</code>
<div class="block">create a thread which maintains a connection to a database server and database</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#DBConnectionThread-java.lang.String-java.lang.String-java.lang.String-java.lang.String-boolean-boolean-java.lang.String-java.lang.String-java.io.PrintStream-">DBConnectionThread</a></span>(java.lang.String&nbsp;h,
                  java.lang.String&nbsp;db,
                  java.lang.String&nbsp;u,
                  java.lang.String&nbsp;pw,
                  boolean&nbsp;write,
                  boolean&nbsp;ssl,
                  java.lang.String&nbsp;nm,
                  java.lang.String&nbsp;vend,
                  java.io.PrintStream&nbsp;out)</code>
<div class="block">create a thread which maintains a connection to a database server and database</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#close--">close</a></span>()</code>
<div class="block">close and forget a connection and drop it from the list</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#closeConnection--">closeConnection</a></span>()</code>
<div class="block">Cause the connection to be shutdown and closed.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.sql.ResultSet</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#executeQuery-java.lang.String-">executeQuery</a></span>(java.lang.String&nbsp;sql)</code>
<div class="block">This executes a give SQL query in this thread.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static java.sql.ResultSet</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#executeQuery-java.lang.String-java.lang.String-">executeQuery</a></span>(java.lang.String&nbsp;nm,
            java.lang.String&nbsp;sql)</code>
<div class="block">This executes a query on the named MyQLConnectionThread.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#executeUpdate-java.lang.String-">executeUpdate</a></span>(java.lang.String&nbsp;sql)</code>
<div class="block">This executes a give SQL update in this thread.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#executeUpdate-java.lang.String-java.lang.String-">executeUpdate</a></span>(java.lang.String&nbsp;nm,
             java.lang.String&nbsp;sql)</code>
<div class="block">This executes a sql update on the named MyQLConnectionThread.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.sql.Connection</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getConnection--">getConnection</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static java.sql.Connection</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getConnection-java.lang.String-">getConnection</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">return the current connection to the database.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getDatabase--">getDatabase</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getDBCatalog--">getDBCatalog</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getDBContainer-java.lang.String-java.lang.String-java.lang.String-">getDBContainer</a></span>(java.lang.String&nbsp;vendor,
              java.lang.String&nbsp;host,
              java.lang.String&nbsp;user)</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getDBDefaultPassword--">getDBDefaultPassword</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getDBDefaultUser--">getDBDefaultUser</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getDBSchema--">getDBSchema</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getDBServer--">getDBServer</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getDBVendor--">getDBVendor</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getInState--">getInState</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getLastInsertID-java.lang.String-">getLastInsertID</a></span>(java.lang.String&nbsp;table)</code>
<div class="block">Get the last inserted value for given table</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>java.sql.Statement</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getNewStatement-boolean-">getNewStatement</a></span>(boolean&nbsp;writable)</code>
<div class="block">getNewStatement -</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getNoconnects--">getNoconnects</a></span>()</code>
<div class="block">return number of times in a row that queries/updates have found no connection</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>java.sql.Statement</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getStatement--">getStatement</a></span>()</code>
<div class="block">return the current statement for database access.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>static java.sql.Statement</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getStatement-java.lang.String-">getStatement</a></span>(java.lang.String&nbsp;nm)</code>
<div class="block">return the current statement for database access.Not normally needed as dbacct can use the
 executeUdpate() and executeQuery methods.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>static java.lang.StringBuilder</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getStatus--">getStatus</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getTag--">getTag</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>static <a href="../../../../gov/usgs/anss/db/DBConnectionThread.html" title="class in gov.usgs.anss.db">DBConnectionThread</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getThread-java.lang.String-">getThread</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">return the DBConnectionThread of a given name</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getThreadList--">getThreadList</a></span>()</code>
<div class="block">Return list of names of threads</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#getVendor--">getVendor</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#init-java.lang.String-">init</a></span>(java.lang.String&nbsp;dbServer)</code>
<div class="block">Set the host, catalog (database), vendor and schema based on an input string or properties if
 the input is null or empty.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#isOK--">isOK</a></span>()</code>
<div class="block">Test if this connection looks good to do something good.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#isOKFast--">isOKFast</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#JDBCDriver--">JDBCDriver</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>java.sql.PreparedStatement</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#prepareStatement-java.lang.String-boolean-">prepareStatement</a></span>(java.lang.String&nbsp;sql,
                boolean&nbsp;writable)</code>
<div class="block">Create a prepared statement with the give sql and writable if needed</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#prt-java.lang.String-">prt</a></span>(java.lang.String&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#prta-java.lang.String-">prta</a></span>(java.lang.String&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#reopen--">reopen</a></span>()</code>
<div class="block">Cause the connection to be shutdown and closed.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#resetShuttingDown--">resetShuttingDown</a></span>()</code>
<div class="block">set the shuttingDown variable back to false.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#run--">run</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#setDebug-boolean-">setDebug</a></span>(boolean&nbsp;t)</code>&nbsp;</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#setDefaultPassword-java.lang.String-">setDefaultPassword</a></span>(java.lang.String&nbsp;p)</code>&nbsp;</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#setDefaultUser-java.lang.String-">setDefaultUser</a></span>(java.lang.String&nbsp;u)</code>&nbsp;</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#setLogPrintStream-java.io.PrintStream-">setLogPrintStream</a></span>(java.io.PrintStream&nbsp;p)</code>&nbsp;</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#setTimeout-int-">setTimeout</a></span>(int&nbsp;sec)</code>
<div class="block">Set the watchdog timeout to some other link.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#shutdown--">shutdown</a></span>()</code>
<div class="block">this shuts down all open DBConnections.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#terminate--">terminate</a></span>()</code>
<div class="block">cause this thread to terminate at is next convenience.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#toString--">toString</a></span>()</code>
<div class="block">return a string describing this thread</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#waitForConnection--">waitForConnection</a></span>()</code>
<div class="block">at startup the Thread may not yet have achieved a connection.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/db/DBConnectionThread.html#waitForConnection-java.lang.String-">waitForConnection</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">at startup the Thread may not yet have achieved a connection.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Thread</h3>
<code>activeCount, checkAccess, clone, countStackFrames, currentThread, destroy, dumpStack, enumerate, getAllStackTraces, getContextClassLoader, getDefaultUncaughtExceptionHandler, getId, getName, getPriority, getStackTrace, getState, getThreadGroup, getUncaughtExceptionHandler, holdsLock, interrupt, interrupted, isAlive, isDaemon, isInterrupted, join, join, join, resume, setContextClassLoader, setDaemon, setDefaultUncaughtExceptionHandler, setName, setPriority, setUncaughtExceptionHandler, sleep, sleep, start, stop, stop, suspend, yield</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="noDB">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noDB</h4>
<pre>public static&nbsp;boolean noDB</pre>
</li>
</ul>
<a name="connected">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>connected</h4>
<pre>public&nbsp;boolean connected</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DBConnectionThread-java.lang.String-java.lang.String-java.lang.String-java.lang.String-boolean-boolean-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DBConnectionThread</h4>
<pre>public&nbsp;DBConnectionThread(java.lang.String&nbsp;h,
                          java.lang.String&nbsp;db,
                          java.lang.String&nbsp;u,
                          java.lang.String&nbsp;pw,
                          boolean&nbsp;write,
                          boolean&nbsp;ssl,
                          java.lang.String&nbsp;nm,
                          java.lang.String&nbsp;vend)
                   throws java.lang.InstantiationException</pre>
<div class="block">create a thread which maintains a connection to a database server and database</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>h</code> - The host on which database is running</dd>
<dd><code>db</code> - The name of the desired database for this connection</dd>
<dd><code>u</code> - The db user name to log into database with</dd>
<dd><code>pw</code> - The db password for that user</dd>
<dd><code>write</code> - If true, this connection and INSERT and UPDATE records</dd>
<dd><code>ssl</code> - if true, use SSL on this connection</dd>
<dd><code>nm</code> - THe name to give this connection</dd>
<dd><code>vend</code> - The vendor for the database (db, oracle, postgres, ....)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InstantiationException</code> - Thrown if this connection cannot be built</dd>
</dl>
</li>
</ul>
<a name="DBConnectionThread-java.lang.String-java.lang.String-java.lang.String-boolean-boolean-java.lang.String-java.io.PrintStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DBConnectionThread</h4>
<pre>public&nbsp;DBConnectionThread(java.lang.String&nbsp;url,
                          java.lang.String&nbsp;connectTag,
                          java.lang.String&nbsp;db,
                          boolean&nbsp;write,
                          boolean&nbsp;ssl,
                          java.lang.String&nbsp;nm,
                          java.io.PrintStream&nbsp;out)
                   throws java.lang.InstantiationException</pre>
<div class="block">This makes a connection using the defaults for host, catalog, vendor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>url</code> - The URL which specifies the server, port, database, vendor and schema</dd>
<dd><code>connectTag</code> - The connection tag that will be decrypted from the user/password store for
 this connection</dd>
<dd><code>db</code> - The database schema to use</dd>
<dd><code>write</code> - Set true to allow updates to database (and dbacct has such permissions)</dd>
<dd><code>ssl</code> - Use SSL on this connection</dd>
<dd><code>nm</code> - The connection's name</dd>
<dd><code>out</code> - A Printstream for logging, if null the Util.prt() methods print to the default log
 or console.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InstantiationException</code></dd>
</dl>
</li>
</ul>
<a name="DBConnectionThread-java.lang.String-java.lang.String-java.lang.String-java.lang.String-boolean-boolean-java.lang.String-java.lang.String-java.io.PrintStream-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DBConnectionThread</h4>
<pre>public&nbsp;DBConnectionThread(java.lang.String&nbsp;h,
                          java.lang.String&nbsp;db,
                          java.lang.String&nbsp;u,
                          java.lang.String&nbsp;pw,
                          boolean&nbsp;write,
                          boolean&nbsp;ssl,
                          java.lang.String&nbsp;nm,
                          java.lang.String&nbsp;vend,
                          java.io.PrintStream&nbsp;out)
                   throws java.lang.InstantiationException</pre>
<div class="block">create a thread which maintains a connection to a database server and database</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>h</code> - The host on which database is running</dd>
<dd><code>db</code> - The name of the desired database for this connection</dd>
<dd><code>u</code> - The dbacct name to log into database with</dd>
<dd><code>pw</code> - The dbpw for that dbacct</dd>
<dd><code>write</code> - If true, this connection and INSERT and UPDATE records</dd>
<dd><code>ssl</code> - if true, use SSL on this connection</dd>
<dd><code>nm</code> - THe name to give this connection</dd>
<dd><code>vend</code> - The vendor for the database (db, oracle, postgres, ....)</dd>
<dd><code>out</code> - Set printstream to this, this use Util.prt() if this is null.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InstantiationException</code> - Thrown if this connection cannot be built</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isOK--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOK</h4>
<pre>public&nbsp;boolean&nbsp;isOK()</pre>
<div class="block">Test if this connection looks good to do something good.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the connection is connected and is alive, and is not terminating and is not
 reopening.</dd>
</dl>
</li>
</ul>
<a name="resetShuttingDown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetShuttingDown</h4>
<pre>public static&nbsp;void&nbsp;resetShuttingDown()</pre>
<div class="block">set the shuttingDown variable back to false.  If DBConnectionThread.shutdown() has been called,
 this needs to be called after the shutdown is complete to allow DBConnectionThread to be used again.
 This is needed in ChannelDisplay when shifting between alert mode and back again.</div>
</li>
</ul>
<a name="isOKFast--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOKFast</h4>
<pre>public&nbsp;boolean&nbsp;isOKFast()</pre>
</li>
</ul>
<a name="setDebug-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDebug</h4>
<pre>public static&nbsp;void&nbsp;setDebug(boolean&nbsp;t)</pre>
</li>
</ul>
<a name="getDBServer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBServer</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getDBServer()</pre>
</li>
</ul>
<a name="getDBVendor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBVendor</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getDBVendor()</pre>
</li>
</ul>
<a name="getDBCatalog--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBCatalog</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getDBCatalog()</pre>
</li>
</ul>
<a name="getDBSchema--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBSchema</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getDBSchema()</pre>
</li>
</ul>
<a name="getDBDefaultUser--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBDefaultUser</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getDBDefaultUser()</pre>
</li>
</ul>
<a name="getDBDefaultPassword--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBDefaultPassword</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getDBDefaultPassword()</pre>
</li>
</ul>
<a name="JDBCDriver--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JDBCDriver</h4>
<pre>public static&nbsp;java.lang.String&nbsp;JDBCDriver()</pre>
</li>
</ul>
<a name="getVendor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVendor</h4>
<pre>public&nbsp;java.lang.String&nbsp;getVendor()</pre>
</li>
</ul>
<a name="setLogPrintStream-java.io.PrintStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLogPrintStream</h4>
<pre>public&nbsp;void&nbsp;setLogPrintStream(java.io.PrintStream&nbsp;p)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/util/LoggerInterface.html#setLogPrintStream-java.io.PrintStream-">setLogPrintStream</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/util/LoggerInterface.html" title="interface in gov.usgs.anss.util">LoggerInterface</a></code></dd>
</dl>
</li>
</ul>
<a name="getInState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInState</h4>
<pre>public&nbsp;int&nbsp;getInState()</pre>
</li>
</ul>
<a name="prt-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prt</h4>
<pre>public final&nbsp;void&nbsp;prt(java.lang.String&nbsp;s)</pre>
</li>
</ul>
<a name="prta-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prta</h4>
<pre>public final&nbsp;void&nbsp;prta(java.lang.String&nbsp;s)</pre>
</li>
</ul>
<a name="getDatabase--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatabase</h4>
<pre>public&nbsp;java.lang.String&nbsp;getDatabase()</pre>
</li>
</ul>
<a name="getTag--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTag</h4>
<pre>public&nbsp;java.lang.String&nbsp;getTag()</pre>
</li>
</ul>
<a name="setDefaultUser-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultUser</h4>
<pre>public static&nbsp;void&nbsp;setDefaultUser(java.lang.String&nbsp;u)</pre>
</li>
</ul>
<a name="setDefaultPassword-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultPassword</h4>
<pre>public static&nbsp;void&nbsp;setDefaultPassword(java.lang.String&nbsp;p)</pre>
</li>
</ul>
<a name="init-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public static&nbsp;void&nbsp;init(java.lang.String&nbsp;dbServer)</pre>
<div class="block">Set the host, catalog (database), vendor and schema based on an input string or properties if
 the input is null or empty.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dbServer</code> - A database URL host/port:database:vendor:schema</dd>
</dl>
</li>
</ul>
<a name="terminate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre>public&nbsp;void&nbsp;terminate()</pre>
<div class="block">cause this thread to terminate at is next convenience. Normally called by users shutdown()</div>
</li>
</ul>
<a name="getThread-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getThread</h4>
<pre>public static&nbsp;<a href="../../../../gov/usgs/anss/db/DBConnectionThread.html" title="class in gov.usgs.anss.db">DBConnectionThread</a>&nbsp;getThread(java.lang.String&nbsp;name)</pre>
<div class="block">return the DBConnectionThread of a given name</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - Some extra text from caller to include in the message</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null if named connection does not exist, else the DBConnectionThread of that name</dd>
</dl>
</li>
</ul>
<a name="getStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatus</h4>
<pre>public static&nbsp;java.lang.StringBuilder&nbsp;getStatus()</pre>
</li>
</ul>
<a name="getThreadList--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getThreadList</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getThreadList()</pre>
<div class="block">Return list of names of threads</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list</dd>
</dl>
</li>
</ul>
<a name="getNoconnects--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNoconnects</h4>
<pre>public&nbsp;int&nbsp;getNoconnects()</pre>
<div class="block">return number of times in a row that queries/updates have found no connection</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The # of times in a row that the queries/updates have found no connection</dd>
</dl>
</li>
</ul>
<a name="waitForConnection--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForConnection</h4>
<pre>public&nbsp;boolean&nbsp;waitForConnection()</pre>
<div class="block">at startup the Thread may not yet have achieved a connection. This waits up to 5 seconds for a
 connection to be made. I</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if the connection has been made, if false, the database is very busy or down.</dd>
</dl>
</li>
</ul>
<a name="waitForConnection-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForConnection</h4>
<pre>public static&nbsp;boolean&nbsp;waitForConnection(java.lang.String&nbsp;name)</pre>
<div class="block">at startup the Thread may not yet have achieved a connection. This waits up to 5 seconds for a
 connection to be made. I</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The connection name to wait for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if the connection has been made, if false, the database is very busy or down.</dd>
</dl>
</li>
</ul>
<a name="getDBContainer-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBContainer</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getDBContainer(java.lang.String&nbsp;vendor,
                                              java.lang.String&nbsp;host,
                                              java.lang.String&nbsp;user)
                                       throws java.lang.InstantiationException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InstantiationException</code></dd>
</dl>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>run</code>&nbsp;in class&nbsp;<code>java.lang.Thread</code></dd>
</dl>
</li>
</ul>
<a name="getConnection-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnection</h4>
<pre>public static&nbsp;java.sql.Connection&nbsp;getConnection(java.lang.String&nbsp;name)</pre>
<div class="block">return the current connection to the database. Not normally needed as dbacct can use the
 executeUdpate() and executeQuery methods.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The name of the desired connection</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A SQL connection to the database</dd>
</dl>
</li>
</ul>
<a name="getConnection--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnection</h4>
<pre>public&nbsp;java.sql.Connection&nbsp;getConnection()</pre>
</li>
</ul>
<a name="getStatement-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatement</h4>
<pre>public static&nbsp;java.sql.Statement&nbsp;getStatement(java.lang.String&nbsp;nm)</pre>
<div class="block">return the current statement for database access.Not normally needed as dbacct can use the
 executeUdpate() and executeQuery methods.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nm</code> - The name of the desired thread</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A database/SQL statement</dd>
</dl>
</li>
</ul>
<a name="getStatement--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatement</h4>
<pre>public&nbsp;java.sql.Statement&nbsp;getStatement()</pre>
<div class="block">return the current statement for database access. Not normally needed as dbacct can use the
 executeUdpate() and executeQuery methods. This is dangerous as all synchronization is lost.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A database/SQL statement</dd>
</dl>
</li>
</ul>
<a name="prepareStatement-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareStatement</h4>
<pre>public&nbsp;java.sql.PreparedStatement&nbsp;prepareStatement(java.lang.String&nbsp;sql,
                                                   boolean&nbsp;writable)
                                            throws java.sql.SQLException</pre>
<div class="block">Create a prepared statement with the give sql and writable if needed</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sql</code> - The SQL to use to prepare the statement (insert into table(f1,f2) VALUES (?,?))</dd>
<dd><code>writable</code> - If true, the prepared statement will be writable and scroll insensitive</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The prepared statement</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - If one is thrown</dd>
</dl>
</li>
</ul>
<a name="getNewStatement-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNewStatement</h4>
<pre>public&nbsp;java.sql.Statement&nbsp;getNewStatement(boolean&nbsp;writable)
                                   throws java.sql.SQLException</pre>
<div class="block">getNewStatement -</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writable</code> - - if true, set scroll and concur_updatable</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the statement or null or throws a SQL Exception trying</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - if one is thrown by class</dd>
</dl>
</li>
</ul>
<a name="executeQuery-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeQuery</h4>
<pre>public static&nbsp;java.sql.ResultSet&nbsp;executeQuery(java.lang.String&nbsp;nm,
                                              java.lang.String&nbsp;sql)
                                       throws java.sql.SQLException</pre>
<div class="block">This executes a query on the named MyQLConnectionThread. It looks up the thread in a static
 list and then uses the instance executeQuery() to perform the query.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nm</code> - The name of the DBConnectionThread to use</dd>
<dd><code>sql</code> - An sql query statement</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The ResultSet from the query</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - after doing a reopen to clear up any problems</dd>
</dl>
</li>
</ul>
<a name="executeQuery-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeQuery</h4>
<pre>public&nbsp;java.sql.ResultSet&nbsp;executeQuery(java.lang.String&nbsp;sql)
                                throws java.sql.SQLException</pre>
<div class="block">This executes a give SQL query in this thread. It is synchronized so that many different
 threads can use this object to performed transactions over a single database connection.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sql</code> - An sql query statement</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The ResultSet from the query</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - after doing a reopen to clear up any problems</dd>
</dl>
</li>
</ul>
<a name="setTimeout-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeout</h4>
<pre>public&nbsp;void&nbsp;setTimeout(int&nbsp;sec)</pre>
<div class="block">Set the watchdog timeout to some other link. Remember to set it back</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sec</code> - Set the timeout to be this number of seconds rather than the default of 300, if =0,
 set back to default of 300</dd>
</dl>
</li>
</ul>
<a name="executeUpdate-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeUpdate</h4>
<pre>public static&nbsp;int&nbsp;executeUpdate(java.lang.String&nbsp;nm,
                                java.lang.String&nbsp;sql)
                         throws java.sql.SQLException</pre>
<div class="block">This executes a sql update on the named MyQLConnectionThread. It looks up the thread in a
 static list and then uses the instance executeUpdate() to perform the update.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nm</code> - The name of the DBConnectionThread to use</dd>
<dd><code>sql</code> - An sql query statement</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The ResultSet from the query</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - after doing a reopen to clear up any problems</dd>
</dl>
</li>
</ul>
<a name="executeUpdate-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeUpdate</h4>
<pre>public&nbsp;int&nbsp;executeUpdate(java.lang.String&nbsp;sql)
                  throws java.sql.SQLException</pre>
<div class="block">This executes a give SQL update in this thread. It is synchronized so that many different
 threads can use this object to performed transactions over a single database connection.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sql</code> - An sql query statement</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The ResultSet from the query or -1 if a duplicate entry occurred or -2 if a data
 Truncation occurred.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - after doing a reopen to clear up any problems</dd>
</dl>
</li>
</ul>
<a name="closeConnection--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeConnection</h4>
<pre>public&nbsp;void&nbsp;closeConnection()</pre>
<div class="block">Cause the connection to be shutdown and closed. Normally the dbacct would call this when a
 SQLStatement caused an exception (in particular for no connection) to force the Thread to make
 a new one.</div>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">close and forget a connection and drop it from the list</div>
</li>
</ul>
<a name="reopen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reopen</h4>
<pre>public&nbsp;boolean&nbsp;reopen()</pre>
<div class="block">Cause the connection to be shutdown and closed. Normally the dbacct would call this when a
 SQLStatement caused an exception (in particular for no connection) to force the Thread to make
 a new one.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if reopen was successful</dd>
</dl>
</li>
</ul>
<a name="getLastInsertID-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastInsertID</h4>
<pre>public&nbsp;int&nbsp;getLastInsertID(java.lang.String&nbsp;table)
                    throws java.sql.SQLException</pre>
<div class="block">Get the last inserted value for given table</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>table</code> - The table(note for db, this is ignored and last inserted id is returned)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The ID</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd>
</dl>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public static&nbsp;void&nbsp;shutdown()</pre>
<div class="block">this shuts down all open DBConnections. It should be called as part of a main exit handler. It
 can be called by multiple shutdowns. Only the first one will have any affect.</div>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">return a string describing this thread</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Thread</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The string</dd>
</dl>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/db/DBAccess.html" title="class in gov.usgs.anss.db"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/db/DBContainer.html" title="class in gov.usgs.anss.db"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/db/DBConnectionThread.html" target="_top">Frames</a></li>
<li><a href="DBConnectionThread.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
