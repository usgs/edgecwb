<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Mon Mar 11 04:04:29 MDT 2019 -->
<title>TimeDataCollection</title>
<meta name="date" content="2019-03-11">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TimeDataCollection";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../gov/usgs/cwbquery/RateSpanCalculator.html" title="class in gov.usgs.cwbquery"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?gov/usgs/cwbquery/TimeDataCollection.html" target="_top">Frames</a></li>
<li><a href="TimeDataCollection.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gov.usgs.cwbquery</div>
<h2 title="Class TimeDataCollection" class="title">Class TimeDataCollection</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>gov.usgs.cwbquery.TimeDataCollection</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">TimeDataCollection</span>
extends java.lang.Object</pre>
<div class="block">Times are submitted from real data coming in and offsets and times are recorded periodically
 based on the sample rate (about 1 in 10000 samples is the interval). This gives a consistent
 known time point for doing time calculations in the buffer offsets by doing such calculations
 from a nearby known time. So if the data rate is not particularly good, the calculations of
 offsets and times of offsets will be pretty accurate event if the QuerySpan covers a lot of time.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#TimeDataCollection-java.lang.String-double-double-gov.usgs.anss.edgethread.EdgeThread-">TimeDataCollection</a></span>(java.lang.String&nbsp;seedname,
                  double&nbsp;rate,
                  double&nbsp;duration,
                  <a href="../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)</code>
<div class="block">By calling this collection with fixed timestamps and offsets, the user can have a reasonable
 sparse collection of known time stamps.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#addTime-int-long-java.util.GregorianCalendar-">addTime</a></span>(int&nbsp;offset,
       long&nbsp;time,
       java.util.GregorianCalendar&nbsp;start)</code>
<div class="block">submit a time for consideration to be added to these structures.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#clear-java.lang.String-double-int-long-">clear</a></span>(java.lang.String&nbsp;seedname,
     double&nbsp;rate,
     int&nbsp;offset,
     long&nbsp;time)</code>
<div class="block">Clear the history of time and add a new starting point for the given offset</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#closestIndex-long-">closestIndex</a></span>(long&nbsp;time)</code>
<div class="block">Find closest index to the given time.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#getClosestTime-long-">getClosestTime</a></span>(long&nbsp;time)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#getIndexOfTime-long-">getIndexOfTime</a></span>(long&nbsp;time)</code>
<div class="block">get index of the time</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#getMemoryUsage--">getMemoryUsage</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#getMillisAt-int-">getMillisAt</a></span>(int&nbsp;index)</code>
<div class="block">get the time of the given index in the data</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#getMinTimeDiff--">getMinTimeDiff</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#setDebug-boolean-">setDebug</a></span>(boolean&nbsp;t)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#setMinTimeDiff-long-">setMinTimeDiff</a></span>(long&nbsp;i)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#setRate-double-">setRate</a></span>(double&nbsp;r)</code>
<div class="block">Set the data rate.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.lang.StringBuilder</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#toStringDetail--">toStringDetail</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#trim-java.util.GregorianCalendar-int-">trim</a></span>(java.util.GregorianCalendar&nbsp;time,
    int&nbsp;offset)</code>
<div class="block">discard any time point older than time and adjust all offsets by the given amount.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../gov/usgs/cwbquery/TimeDataCollection.html#trim-long-int-">trim</a></span>(long&nbsp;time,
    int&nbsp;offset)</code>
<div class="block">discard any time point older than time and adjust all offsets by the given amount.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TimeDataCollection-java.lang.String-double-double-gov.usgs.anss.edgethread.EdgeThread-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TimeDataCollection</h4>
<pre>public&nbsp;TimeDataCollection(java.lang.String&nbsp;seedname,
                          double&nbsp;rate,
                          double&nbsp;duration,
                          <a href="../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)</pre>
<div class="block">By calling this collection with fixed timestamps and offsets, the user can have a reasonable
 sparse collection of known time stamps.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>seedname</code> - NNSSSSSCCCLL format</dd>
<dd><code>rate</code> - In Hz</dd>
<dd><code>duration</code> - To track the times</dd>
<dd><code>parent</code> - Logging parent.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getMemoryUsage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMemoryUsage</h4>
<pre>public&nbsp;int&nbsp;getMemoryUsage()</pre>
</li>
</ul>
<a name="setDebug-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDebug</h4>
<pre>public&nbsp;void&nbsp;setDebug(boolean&nbsp;t)</pre>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="toStringDetail--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toStringDetail</h4>
<pre>public&nbsp;java.lang.StringBuilder&nbsp;toStringDetail()</pre>
</li>
</ul>
<a name="getMinTimeDiff--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinTimeDiff</h4>
<pre>public&nbsp;long&nbsp;getMinTimeDiff()</pre>
</li>
</ul>
<a name="setMinTimeDiff-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMinTimeDiff</h4>
<pre>public&nbsp;void&nbsp;setMinTimeDiff(long&nbsp;i)</pre>
</li>
</ul>
<a name="clear-java.lang.String-double-int-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear(java.lang.String&nbsp;seedname,
                  double&nbsp;rate,
                  int&nbsp;offset,
                  long&nbsp;time)</pre>
<div class="block">Clear the history of time and add a new starting point for the given offset</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>seedname</code> - NNSSSSSCCCLL</dd>
<dd><code>rate</code> - In Hz</dd>
<dd><code>offset</code> - The offset of the time</dd>
<dd><code>time</code> - The time in millis</dd>
</dl>
</li>
</ul>
<a name="setRate-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRate</h4>
<pre>public final&nbsp;void&nbsp;setRate(double&nbsp;r)</pre>
<div class="block">Set the data rate. This checks for change of rate</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>r</code> - The rate to set in Hz</dd>
</dl>
</li>
</ul>
<a name="trim-java.util.GregorianCalendar-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trim</h4>
<pre>public&nbsp;void&nbsp;trim(java.util.GregorianCalendar&nbsp;time,
                 int&nbsp;offset)</pre>
<div class="block">discard any time point older than time and adjust all offsets by the given amount. Used
 primarily by the shift() routine to time and update for the data moving in the buffer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>time</code> - The earliest time to keep in millis</dd>
<dd><code>offset</code> - The offset the data are going to move.</dd>
</dl>
</li>
</ul>
<a name="trim-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trim</h4>
<pre>public&nbsp;void&nbsp;trim(long&nbsp;time,
                 int&nbsp;offset)</pre>
<div class="block">discard any time point older than time and adjust all offsets by the given amount. Used
 primarily by the shift() routine to time and update for the data moving in the buffer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>time</code> - The earliest time to keep in millis</dd>
<dd><code>offset</code> - The offset the data are going to move.</dd>
</dl>
</li>
</ul>
<a name="closestIndex-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closestIndex</h4>
<pre>public&nbsp;int&nbsp;closestIndex(long&nbsp;time)</pre>
<div class="block">Find closest index to the given time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>time</code> - The time in millis</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The offset closes or -1 no times are present</dd>
</dl>
</li>
</ul>
<a name="getClosestTime-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClosestTime</h4>
<pre>public&nbsp;long&nbsp;getClosestTime(long&nbsp;time)</pre>
</li>
</ul>
<a name="addTime-int-long-java.util.GregorianCalendar-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTime</h4>
<pre>public&nbsp;boolean&nbsp;addTime(int&nbsp;offset,
                       long&nbsp;time,
                       java.util.GregorianCalendar&nbsp;start)</pre>
<div class="block">submit a time for consideration to be added to these structures. If this time is is not within
 the minTimeDifference of the closest time, it will be added</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>offset</code> - The offset in the data array represented by this time</dd>
<dd><code>time</code> - The time in millis</dd>
<dd><code>start</code> - Can be null, but if not, returned with start time of earliest time.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True, if this time was added to the structures.</dd>
</dl>
</li>
</ul>
<a name="getIndexOfTime-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexOfTime</h4>
<pre>public&nbsp;int&nbsp;getIndexOfTime(long&nbsp;time)</pre>
<div class="block">get index of the time</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>time</code> - Time of sample for which we need the index</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The index.</dd>
</dl>
</li>
</ul>
<a name="getMillisAt-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getMillisAt</h4>
<pre>public&nbsp;long&nbsp;getMillisAt(int&nbsp;index)</pre>
<div class="block">get the time of the given index in the data</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - The index to a data point</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The time in millis of that data point.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../gov/usgs/cwbquery/RateSpanCalculator.html" title="class in gov.usgs.cwbquery"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?gov/usgs/cwbquery/TimeDataCollection.html" target="_top">Frames</a></li>
<li><a href="TimeDataCollection.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
